import{_ as e,l as t,m as o,n as a,p as n,v as i,q as r,s,t as l,w as u}from"./form-vendor-CKNVq0c_.js";import{r as p}from"./react-vendor-DF7UJAlN.js";var c=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],f=function(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,o=String(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase(),a=String(t.getOptionValue(e)).toLowerCase(),n=String(t.getOptionLabel(e)).toLowerCase();return a===o||n===o},g={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,o,a){return!(!e||t.some(function(t){return f(e,t,a)})||o.some(function(t){return f(e,t,a)}))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}};var v=p.forwardRef(function(f,v){var d,O,m,C,w,L,b,h,N,V,_,D,M,S,j,y,A,P,W,k,q,x,E,R,z,B,F,G,H=s(f),I=(O=(d=H).allowCreateWhileLoading,m=void 0!==O&&O,C=d.createOptionPosition,w=void 0===C?"last":C,L=d.formatCreateLabel,b=void 0===L?g.formatCreateLabel:L,h=d.isValidNewOption,N=void 0===h?g.isValidNewOption:h,V=d.getNewOptionData,_=void 0===V?g.getNewOptionData:V,D=d.onCreateOption,M=d.options,S=void 0===M?[]:M,j=d.onChange,y=e(d,c),A=y.getOptionValue,P=void 0===A?a:A,W=y.getOptionLabel,k=void 0===W?o:W,q=y.inputValue,x=y.isLoading,E=y.isMulti,R=y.value,z=y.name,B=p.useMemo(function(){return N(q,t(R),S,{getOptionValue:P,getOptionLabel:k})?_(q,b(q)):void 0},[b,_,k,P,q,N,S,R]),F=p.useMemo(function(){return!m&&x||!B?S:"first"===w?[B].concat(n(S)):[].concat(n(S),[B])},[m,w,x,B,S]),G=p.useCallback(function(e,o){if("select-option"!==o.action)return j(e,o);var a=Array.isArray(e)?e:[e];if(a[a.length-1]!==B)j(e,o);else if(D)D(q);else{var r=_(q,q),s={action:"create-option",name:z,option:r};j(i(E,[].concat(n(t(R)),[r]),r),s)}},[_,q,E,z,B,D,j,R]),r(r({},y),{},{options:F,onChange:G}));return p.createElement(l,u({ref:v},I))});export{v as C};
