import{j as e}from"./date-vendor-DfW9khhA.js";import{r as s,u as t}from"./react-vendor-Dhx0OYb2.js";import{h as r,e as o,r as a,b as n,d as l,R as i,S as c,T as d,U as m,V as x,v as h,C as g,Z as j,_ as p,$ as f,a0 as u,a1 as b,a2 as y,w as N}from"./ui-vendor-pFEG3kEv.js";import{P as v}from"./PaginationControls-pwghxmUp.js";import{u as w,x as C,g as T,m as z,S as k}from"./index-BxG4qwLs.js";import{u as R,a as S}from"./redux-vendor-B0DAdCYB.js";import{S as M}from"./utils-vendor-Nl-sF5xe.js";import{i as L}from"./index-DK1ZdOBj.js";import{P}from"./PageHeader-UABCfWk-.js";import{c as D}from"./cil-plus-D8mtC-W5.js";import{c as B}from"./cil-search-CDkY_4k-.js";import{a as E}from"./DefaultLayout-CDydDzk1.js";import{c as $}from"./cil-envelope-closed-DSbcONbs.js";import{c as W}from"./cil-globe-alt-6J7AfP2A.js";import{c as H}from"./cil-pencil-m516yCOw.js";import{c as U}from"./cil-trash-CBbKHhHb.js";import"./form-vendor-C_vzjFiG.js";import"./cil-chevron-right-DSvcss7_.js";import"./icons-vendor-CVrEPnlB.js";const V=()=>{const{t:V}=w(),[_,I]=s.useState(""),[X,Y]=s.useState(1),[Z,q]=s.useState(10),A=t(),F=R(),{list:G,loading:J,error:K}=S(e=>e.locations);s.useEffect(()=>{F(C())},[F]);const O=G.filter(e=>{const s=(e.email||"").toLowerCase(),t=(e.locationName||"").toLowerCase(),r=_.toLowerCase();return s.includes(r)||t.includes(r)}),Q=Math.ceil((O.length||0)/Z),ee=O.slice((X-1)*Z,X*Z),se=e=>{Y(e)},te=0===O.length?0:(X-1)*Z+1,re=Math.min(X*Z,O.length);return e.jsxs(r,{fluid:!0,className:"p-2 m-2",style:{backgroundColor:"#f8fafc",minHeight:"100vh"},children:[e.jsx(P,{title:e.jsxs("div",{className:"d-flex align-items-center gap-3",children:[e.jsx("div",{className:"d-flex align-items-center justify-content-center",style:{width:"48px",height:"48px",backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:"12px"},children:e.jsx(L,{className:"text-white",style:{fontSize:"24px"}})}),V("settings.locations.header")]}),subtitle:V("settings.locations.subtitle"),rightContent:e.jsxs(o,{color:"light",className:"shadow-sm px-4 fw-semibold",onClick:()=>{A("/settings/locations/create")},style:{borderRadius:"5px",border:"none",transition:"all 0.3s ease"},children:[e.jsx(a,{icon:D,className:"me-2"}),V("settings.locations.add")]})}),e.jsx(n,{className:"border-0 shadow-sm mb-1",children:e.jsx(l,{children:e.jsxs(i,{className:"align-items-center",children:[e.jsx(c,{md:6,lg:4,children:e.jsxs(d,{children:[e.jsx(m,{style:{background:"none",border:"none"},children:e.jsx(a,{icon:B})}),e.jsx(x,{type:"text",placeholder:V("settings.locations.searchPlaceholder"),value:_,onChange:e=>{I(e.target.value),Y(1)},style:{border:"1px solid #e3e6f0",borderRadius:"10px",fontSize:"14px",padding:"12px 16px"}})]})}),e.jsx(c,{md:6,lg:8,className:"text-md-end mt-3 mt-md-0",children:e.jsxs("div",{className:"d-flex justify-content-md-end align-items-center gap-3",children:[e.jsx(h,{color:"info",className:"px-3 py-2",style:{borderRadius:"20px",fontSize:"12px",fontWeight:"500"},children:V("settings.locations.stats.total",{count:G?.length||0})}),e.jsx("span",{className:"text-muted small",children:V("settings.locations.stats.showingResults",{count:O?.length||0})})]})})]})})}),K&&e.jsx(n,{className:"border-0 shadow-sm",children:e.jsx(l,{children:e.jsxs("div",{className:"alert alert-danger mb-0",children:[e.jsxs("strong",{children:[V("common.error"),":"]})," ",V("settings.locations.errorLoad"),": ",K]})})}),J&&e.jsx(n,{className:"border-0 shadow-sm",children:e.jsxs(l,{className:"text-center py-5",children:[e.jsx(g,{color:"primary",size:"lg"}),e.jsx("p",{className:"text-muted mt-3 mb-0",children:V("settings.locations.loading")})]})}),!J&&!K&&e.jsx(n,{className:"border-0 shadow-sm",children:e.jsxs(l,{className:"p-0",children:[e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs(j,{hover:!0,responsive:!0,className:"mb-0",children:[e.jsx(p,{style:{backgroundColor:"#f8f9fa"},children:e.jsxs(f,{children:[e.jsx(u,{className:"border-0 fw-semibold text-muted py-3",children:"#"}),e.jsx(u,{className:"border-0 fw-semibold text-muted py-3",children:e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx(a,{icon:E,size:"sm"}),V("settings.locations.table.locationName")]})}),e.jsx(u,{className:"border-0 fw-semibold text-muted py-3",children:V("settings.locations.table.address")}),e.jsx(u,{className:"border-0 fw-semibold text-muted py-3",children:e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx(a,{icon:$,size:"sm"}),V("settings.locations.table.email")]})}),e.jsx(u,{className:"border-0 fw-semibold text-muted py-3",children:e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx(a,{icon:W,size:"sm"}),V("settings.locations.table.website")]})}),e.jsx(u,{className:"border-0 fw-semibold text-muted py-3 text-center",children:V("settings.locations.table.actions")})]})}),e.jsx(b,{children:0===O?.length?e.jsx(f,{children:e.jsx(y,{colSpan:"6",className:"text-center py-5",children:e.jsxs("div",{className:"text-muted",children:[e.jsx(a,{icon:E,size:"xl",className:"mb-3 opacity-25"}),e.jsx("p",{className:"mb-0",children:V("settings.locations.empty.title")}),e.jsx("small",{children:V("settings.locations.empty.subtitle")})]})})}):ee?.map((s,t)=>e.jsxs(f,{style:{transition:"all 0.2s ease"},children:[e.jsx(y,{className:"py-3 border-0 border-bottom border-light",children:e.jsx(h,{color:"secondary",className:"px-2 py-1",style:{borderRadius:"12px",fontSize:"11px",fontWeight:"500"},children:te+t})}),e.jsx(y,{className:"py-3 border-0 border-bottom border-light",children:e.jsx("div",{className:"fw-medium text-dark",children:s.locationName||V("common.na")})}),e.jsx(y,{className:"py-3 border-0 border-bottom border-light",children:e.jsx("span",{className:"text-muted small",children:s.address||V("common.na")})}),e.jsx(y,{className:"py-3 border-0 border-bottom border-light",children:s.email?e.jsx("a",{href:`mailto:${s.email}`,className:"text-decoration-none",style:{color:"#0d6efd"},onMouseEnter:e=>e.currentTarget.style.textDecoration="underline",onMouseLeave:e=>e.currentTarget.style.textDecoration="none",children:s.email}):e.jsx("span",{className:"text-muted",children:V("common.na")})}),e.jsx(y,{className:"py-3 border-0 border-bottom border-light",children:s.website?e.jsx("a",{href:s.website?.startsWith("http")?s.website:`https://${s.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-decoration-none",style:{color:"#0d6efd"},onMouseEnter:e=>e.currentTarget.style.textDecoration="underline",onMouseLeave:e=>e.currentTarget.style.textDecoration="none",children:s.website}):e.jsx("span",{className:"text-muted",children:V("common.na")})}),e.jsx(y,{className:"py-3 border-0 border-bottom border-light text-center",children:e.jsxs("div",{className:"d-flex justify-content-center gap-2",children:[e.jsx(o,{color:"light",size:"sm",className:"p-2",onClick:()=>(e=>{const s=`/${T(6)}/${T(8)}`+z("/settings/locations/edit/:id",{id:e});A(s)})(s.id),style:{borderRadius:"8px",border:"1px solid #e3e6f0",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#e7f3ff",e.currentTarget.style.borderColor="#0d6efd"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="",e.currentTarget.style.borderColor="#e3e6f0"},children:e.jsx(a,{icon:H,size:"sm",style:{color:"#0d6efd"}})}),e.jsx(o,{color:"light",size:"sm",className:"p-2",onClick:()=>{return e=s.id,void M.fire({title:V("common.confirm"),text:V("settings.locations.confirm.text"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#6c757d",confirmButtonText:V("settings.locations.confirm.confirmYes"),cancelButtonText:V("common.cancel")}).then(async s=>{if(s.isConfirmed)try{await F(k(e)).unwrap(),M.fire(V("settings.locations.confirm.deletedTitle"),V("settings.locations.confirm.deletedText"),"success")}catch(t){M.fire(V("settings.locations.confirm.errorTitle"),V("settings.locations.confirm.errorText"),"error")}else s.dismiss===M.DismissReason.cancel&&M.fire(V("settings.locations.confirm.cancelledTitle"),V("settings.locations.confirm.cancelledText"),"info")});var e},style:{borderRadius:"8px",border:"1px solid #e3e6f0",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#ffe6e6",e.currentTarget.style.borderColor="#dc3545"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="",e.currentTarget.style.borderColor="#e3e6f0"},children:e.jsx(a,{icon:U,size:"sm",style:{color:"#dc3545"}})})]})})]},s.id))})]})}),Q>1&&e.jsx("div",{className:"p-3 border-top border-light",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center flex-wrap gap-3",children:[e.jsx("div",{className:"text-muted small",children:V("settings.locations.showingRange",{start:0===O.length?0:te,end:re,total:O.length})}),e.jsx("div",{className:"d-flex justify-content-center flex-grow-1",children:e.jsx(v,{page:X,totalPages:Q,goPrev:()=>se(X-1),goNext:()=>se(X+1)})}),e.jsx("div",{style:{width:"120px"},children:e.jsx(N,{size:"sm",value:Z,onChange:e=>{q(Number(e.target.value)),Y(1)},style:{borderRadius:"6px",fontSize:"12px"},children:[5,10,15,20,25].map(s=>e.jsx("option",{value:s,children:V("settings.locations.showItems",{count:s})},s))})})]})})]})})]})};export{V as default};
