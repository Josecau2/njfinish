import{j as e}from"./date-vendor-DfW9khhA.js";import{r as s,u as a}from"./react-vendor-Dhx0OYb2.js";import{u as t,y as r,g as i,m as l,F as n}from"./index-CRxBN8Fj.js";import{u as o,a as d}from"./redux-vendor-B0DAdCYB.js";import{S as c}from"./utils-vendor-Nl-sF5xe.js";import{P as m}from"./PageHeader-UABCfWk-.js";import{P as u,a as x,S as p,b as g,A as f,c as h,d as b,B as j,M as v,e as y}from"./icons-vendor-CVrEPnlB.js";import"./form-vendor-C_vzjFiG.js";import"./ui-vendor-pFEG3kEv.js";const N=()=>{const{t:N}=t(),w=o(),{list:C,loading:S,error:z}=d(e=>e.manufacturers),k=d(e=>e.customization),[B,R]=s.useState([]),[T,L]=s.useState(""),[$,I]=s.useState("id"),[O,F]=s.useState("desc"),H=a();s.useEffect(()=>{w(r())},[w]);s.useEffect(()=>{M(T,$,O)},[C,T,$,O]);const M=(e,s,a)=>{let t=[...C];e&&(t=t.filter(s=>s.name?.toLowerCase().includes(e.toLowerCase())||s.email?.toLowerCase().includes(e.toLowerCase()))),t.sort((e,t)=>e[s]<t[s]?"asc"===a?-1:1:e[s]>t[s]?"asc"===a?1:-1:0),R(t)},P={container:{padding:"8px 16px",backgroundColor:"#f8fafc",minHeight:"100vh"},headerCard:{background:k.headerBg||"#667eea"},controlsCard:{border:"none",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.05)",marginBottom:"8px"},manufacturerCard:{border:"none",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.08)",transition:"all 0.3s ease",height:"100%",overflow:"hidden"},badge:{borderRadius:"20px",fontSize:"12px",fontWeight:"500",padding:"6px 12px"},inputGroup:{position:"relative"},searchIcon:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",zIndex:10,color:"#6c757d"},searchInput:{paddingLeft:"40px",border:"1px solid #e3e6f0",borderRadius:"10px",fontSize:"14px",padding:"12px 16px 12px 40px"},editButton:{position:"absolute",top:"12px",right:"12px",backgroundColor:"#ffffff",border:"1px solid #e3e6f0",borderRadius:"8px",padding:"8px",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},logoContainer:{width:"80px",height:"80px",backgroundColor:"#f8f9fa",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",flexShrink:0,border:"2px solid #e9ecef"}};return e.jsxs("div",{style:P.container,children:[e.jsx(m,{title:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(x,{className:"me-2",size:24}),N("settings.manufacturers.header")]}),subtitle:N("settings.manufacturers.subtitle"),rightContent:e.jsxs("button",{className:"btn btn-light shadow-sm px-4 fw-semibold",onClick:()=>{H("/settings/manufacturers/create")},style:{borderRadius:"5px",border:"none",transition:"all 0.3s ease"},children:[e.jsx(u,{className:"me-2",size:16}),N("settings.manufacturers.add")]})}),e.jsx("div",{className:"card",style:P.controlsCard,children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row align-items-end",children:[e.jsxs("div",{className:"col-lg-4 col-md-6 mb-3 mb-lg-0",children:[e.jsxs("label",{className:"form-label fw-medium text-muted mb-2",children:[e.jsx(p,{size:14,className:"me-1"}),N("settings.manufacturers.search")]}),e.jsxs("div",{style:P.inputGroup,children:[e.jsx(p,{size:16,style:P.searchIcon}),e.jsx("input",{type:"text",className:"form-control",placeholder:N("settings.manufacturers.searchPlaceholder"),value:T,onChange:e=>{L(e.target.value),M(e.target.value,$,O)},style:P.searchInput})]})]}),e.jsxs("div",{className:"col-lg-3 col-md-6 mb-3 mb-lg-0",children:[e.jsxs("label",{className:"form-label fw-medium text-muted mb-2",children:[e.jsx(g,{size:14,className:"me-1"}),N("settings.manufacturers.sortBy")]}),e.jsxs("select",{className:"form-select",value:$,onChange:e=>{I(e.target.value),M(T,e.target.value,O)},style:{border:"1px solid #e3e6f0",borderRadius:"10px",fontSize:"14px",padding:"12px 16px"},children:[e.jsx("option",{value:"id",children:N("settings.manufacturers.sort.id")}),e.jsx("option",{value:"name",children:N("settings.manufacturers.sort.name")}),e.jsx("option",{value:"email",children:N("settings.manufacturers.sort.email")}),e.jsx("option",{value:"capacity",children:N("settings.manufacturers.sort.capacity")})]})]}),e.jsxs("div",{className:"col-lg-3 col-md-6 mb-3 mb-lg-0",children:[e.jsxs("label",{className:"form-label fw-medium text-muted mb-2",children:["asc"===O?e.jsx(f,{size:14,className:"me-1"}):e.jsx(h,{size:14,className:"me-1"}),N("settings.manufacturers.order")]}),e.jsxs("select",{className:"form-select",value:O,onChange:e=>{F(e.target.value),M(T,$,e.target.value)},style:{border:"1px solid #e3e6f0",borderRadius:"10px",fontSize:"14px",padding:"12px 16px"},children:[e.jsx("option",{value:"desc",children:N("settings.manufacturers.orderOptions.descending")}),e.jsx("option",{value:"asc",children:N("settings.manufacturers.orderOptions.ascending")})]})]}),e.jsx("div",{className:"col-lg-2 col-md-6",children:e.jsx("div",{className:"d-flex justify-content-lg-end",children:e.jsx("span",{className:"badge bg-info",style:{...P.badge},children:N("settings.manufacturers.stats.total",{count:C?.length||0})})})})]})})}),S&&e.jsx("div",{className:"card",style:P.controlsCard,children:e.jsxs("div",{className:"card-body text-center py-5",children:[e.jsx("div",{className:"spinner-border text-primary mb-3",role:"status",children:e.jsx("span",{className:"visually-hidden",children:N("common.loading")})}),e.jsx("p",{className:"text-muted mb-0",children:N("settings.manufacturers.loading")})]})}),z&&e.jsx("div",{className:"card",style:P.controlsCard,children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"alert alert-danger mb-0",children:[e.jsx("strong",{children:N("settings.manufacturers.errorPrefix")})," ",z]})})}),!S&&0===B.length&&e.jsx("div",{className:"card",style:P.controlsCard,children:e.jsxs("div",{className:"card-body text-center py-5",children:[e.jsx(x,{size:48,className:"text-muted mb-3 opacity-25"}),e.jsx("h5",{className:"text-muted mb-2",children:N("settings.manufacturers.empty.title")}),e.jsx("p",{className:"text-muted mb-0",children:N(T?"settings.manufacturers.empty.subtitleFiltered":"settings.manufacturers.empty.subtitleStart")})]})}),!S&&B.length>0&&e.jsx("div",{className:"row",children:B.map(s=>e.jsx("div",{className:"col-xl-6 col-lg-6 col-md-12 mb-4",children:e.jsx("div",{className:"card",style:P.manufacturerCard,onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 8px 25px rgba(0, 0, 0, 0.12)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.08)"},children:e.jsxs("div",{className:"card-body p-4",style:{position:"relative"},children:[e.jsx("button",{style:P.editButton,onClick:()=>(e=>{const s=`/${i(6)}/${i(8)}`+l("/settings/manufacturers/edit/:id",{id:e});H(s)})(s.id),onMouseEnter:e=>{e.currentTarget.style.backgroundColor=`${k.headerBg||"#667eea"}20`,e.currentTarget.style.borderColor=k.headerBg||"#667eea"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#ffffff",e.currentTarget.style.borderColor="#e3e6f0"},children:e.jsx(b,{size:16,style:{color:k.headerBg||"#667eea"}})}),e.jsxs("div",{className:"d-flex",children:[e.jsx("div",{style:P.logoContainer,className:"me-4",children:e.jsx("img",{src:s.image?`https://app.nj.contractors/uploads/images/${s.image}`:"/images/nologo.png",alt:`${s.name} logo`,style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}})}),e.jsxs("div",{className:"flex-grow-1",style:{minWidth:0},children:[e.jsx("div",{className:"mb-3",children:e.jsxs("h5",{className:"mb-1 fw-bold text-dark d-flex align-items-center",children:[e.jsx(j,{size:18,className:"me-2 text-primary"}),e.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:s.name})]})}),e.jsxs("div",{className:"mb-3 d-flex align-items-center",children:[e.jsx(v,{size:16,className:"me-2 text-muted flex-shrink-0"}),e.jsx("span",{className:"text-muted",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontSize:"14px"},children:s.email})]}),e.jsxs("div",{className:"mb-3 d-flex align-items-center",children:[e.jsx(y,{size:16,className:"me-2 text-muted flex-shrink-0"}),e.jsx("span",{className:"badge",style:{...P.badge,backgroundColor:"#f8f9fa",color:"#495057",border:"1px solid #e9ecef"},children:N("settings.manufacturers.labels.capacity",{capacity:s.capacity})})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsxs("div",{className:"form-check form-switch",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",id:`enabledSwitch${s.id}`,checked:s.status,onChange:()=>{return e=s.id,a=s.status,void w(n({id:e,enabled:!a})).unwrap().then(e=>{w(r()),c.fire({toast:!0,position:"top",icon:"success",title:N("settings.manufacturers.toast.updateSuccess"),showConfirmButton:!1,timer:1500,width:"360px",didOpen:e=>{e.style.padding="8px 12px",e.style.fontSize="14px",e.style.minHeight="auto"}})}).catch(e=>{c.fire({toast:!0,position:"top",icon:"error",title:N("settings.manufacturers.toast.updateFailed"),showConfirmButton:!1,timer:1500,width:"330px",didOpen:e=>{e.style.padding="8px 12px",e.style.fontSize="14px",e.style.minHeight="auto"}})});var e,a},style:{cursor:"pointer"}}),e.jsx("label",{className:"form-check-label fw-medium",htmlFor:`enabledSwitch${s.id}`,style:{cursor:"pointer",fontSize:"14px"},children:s.status?N("settings.manufacturers.labels.active"):N("settings.manufacturers.labels.inactive")})]}),e.jsx("span",{className:"badge "+(s.status?"bg-success":"bg-secondary"),style:P.badge,children:s.status?N("settings.manufacturers.labels.enabled"):N("settings.manufacturers.labels.disabled")})]})]})]})]})})},s.id))})]})};export{N as default};
