import{j as e}from"./date-vendor-DfW9khhA.js";import{r as s}from"./react-vendor-Dhx0OYb2.js";import{h as t,e as a,r as l,b as r,d as i,R as c,S as d,ab as n,v as o,C as x,a4 as m,V as h,T as p,U as u,a6 as f}from"./ui-vendor-pFEG3kEv.js";import{u as b,a as g}from"./redux-vendor-B0DAdCYB.js";import{u as j,A as N,W as v,X as y,Y as w}from"./index-CRxBN8Fj.js";import{G as C}from"./icons-vendor-CVrEPnlB.js";import{P as k}from"./PageHeader-UABCfWk-.js";import{c as z}from"./cil-plus-D8mtC-W5.js";import{c as R}from"./cil-check-alt-Bgti_PMs.js";import{c as S}from"./cil-trash-CBbKHhHb.js";import{c as M}from"./cil-save-CHBg7z_U.js";import{c as T}from"./cil-x-0440B5Ce.js";import"./form-vendor-C_vzjFiG.js";import"./utils-vendor-Nl-sF5xe.js";function W(e){return C({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Circle_Question"},child:[{tag:"g",attr:{},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M11.411,12.459a1.547,1.547,0,0,1,.341-.6,2.644,2.644,0,0,1,.535-.417,2.2,2.2,0,0,0,.363-.286,1.2,1.2,0,0,0,.256-.363A1.084,1.084,0,0,0,13,10.341a.923.923,0,0,0-.142-.517.938.938,0,0,0-.374-.338,1.123,1.123,0,0,0-.519-.119,1.173,1.173,0,0,0-.495.107.934.934,0,0,0-.389.335.884.884,0,0,0-.111.224.516.516,0,0,1-.483.359h0a.506.506,0,0,1-.479-.675,1.661,1.661,0,0,1,.178-.349,1.8,1.8,0,0,1,.748-.634,2.437,2.437,0,0,1,1.031-.215,2.4,2.4,0,0,1,1.082.231,1.737,1.737,0,0,1,.721.641,1.772,1.772,0,0,1,.257.96,1.841,1.841,0,0,1-.118.678,1.685,1.685,0,0,1-.334.536,2.289,2.289,0,0,1-.52.417,2.277,2.277,0,0,0-.462.369,1.113,1.113,0,0,0-.256.455,2.344,2.344,0,0,0-.045.283.487.487,0,0,1-.483.429h0a.484.484,0,0,1-.483-.531A2.931,2.931,0,0,1,11.411,12.459Z"},child:[]},{tag:"circle",attr:{cx:"11.793",cy:"14.891",r:"0.587"},child:[]}]},{tag:"path",attr:{d:"M12,21.931A9.934,9.934,0,1,1,21.934,12,9.945,9.945,0,0,1,12,21.931ZM12,3.064A8.934,8.934,0,1,0,20.934,12,8.943,8.943,0,0,0,12,3.064Z"},child:[]}]}]}]})(e)}function A(e){return C({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 80c0 18-14.3 34.6-38.4 48c-29.1 16.1-72.5 27.5-122.3 30.9c-3.7-1.8-7.4-3.5-11.3-5C300.6 137.4 248.2 128 192 128c-8.3 0-16.4 .2-24.5 .6l-1.1-.6C142.3 114.6 128 98 128 80c0-44.2 86-80 192-80S512 35.8 512 80zM160.7 161.1c10.2-.7 20.7-1.1 31.3-1.1c62.2 0 117.4 12.3 152.5 31.4C369.3 204.9 384 221.7 384 240c0 4-.7 7.9-2.1 11.7c-4.6 13.2-17 25.3-35 35.5c0 0 0 0 0 0c-.1 .1-.3 .1-.4 .2c0 0 0 0 0 0s0 0 0 0c-.3 .2-.6 .3-.9 .5c-35 19.4-90.8 32-153.6 32c-59.6 0-112.9-11.3-148.2-29.1c-1.9-.9-3.7-1.9-5.5-2.9C14.3 274.6 0 258 0 240c0-34.8 53.4-64.5 128-75.4c10.5-1.5 21.4-2.7 32.7-3.5zM416 240c0-21.9-10.6-39.9-24.1-53.4c28.3-4.4 54.2-11.4 76.2-20.5c16.3-6.8 31.5-15.2 43.9-25.5l0 35.4c0 19.3-16.5 37.1-43.8 50.9c-14.6 7.4-32.4 13.7-52.4 18.5c.1-1.8 .2-3.5 .2-5.3zm-32 96c0 18-14.3 34.6-38.4 48c-1.8 1-3.6 1.9-5.5 2.9C304.9 404.7 251.6 416 192 416c-62.8 0-118.6-12.6-153.6-32C14.3 370.6 0 354 0 336l0-35.4c12.5 10.3 27.6 18.7 43.9 25.5C83.4 342.6 135.8 352 192 352s108.6-9.4 148.1-25.9c7.8-3.2 15.3-6.9 22.4-10.9c6.1-3.4 11.8-7.2 17.2-11.2c1.5-1.1 2.9-2.3 4.3-3.4l0 3.4 0 5.7 0 26.3zm32 0l0-32 0-25.9c19-4.2 36.5-9.5 52.1-16c16.3-6.8 31.5-15.2 43.9-25.5l0 35.4c0 10.5-5 21-14.9 30.9c-16.3 16.3-45 29.7-81.3 38.4c.1-1.7 .2-3.5 .2-5.3zM192 448c56.2 0 108.6-9.4 148.1-25.9c16.3-6.8 31.5-15.2 43.9-25.5l0 35.4c0 44.2-86 80-192 80S0 476.2 0 432l0-35.4c12.5 10.3 27.6 18.7 43.9 25.5C83.4 438.6 135.8 448 192 448z"},child:[]}]})(e)}function L(e){return C({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M374.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-320 320c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l320-320zM128 128A64 64 0 1 0 0 128a64 64 0 1 0 128 0zM384 384a64 64 0 1 0 -128 0 64 64 0 1 0 128 0z"},child:[]}]})(e)}const B=()=>{const C=b(),{t:B}=j(),{taxes:D,loading:Z}=g(e=>e.taxes),[E,F]=s.useState([]);s.useEffect(()=>{C(N())},[C]);const Y=(e,s,t)=>{const a=[...E];a[e][s]=t,F(a)};return e.jsxs(t,{fluid:!0,className:"p-2 m-2",style:{backgroundColor:"#f8fafc",minHeight:"100vh"},children:[e.jsx(k,{icon:A,title:B("settings.taxes.header"),subtitle:B("settings.taxes.subtitle"),rightContent:e.jsxs(a,{color:"light",className:"shadow-sm px-4 fw-semibold",onClick:()=>{if(0===E.length)return void F([{label:"",value:""}]);const e=E[E.length-1];e.label.trim()&&e.value.trim()?F(e=>[...e,{label:"",value:""}]):alert(B("settings.taxes.alerts.completeFields"))},disabled:E.length>0&&(!E[E.length-1].label.trim()||!E[E.length-1].value.trim()),style:{borderRadius:"5px",border:"none",transition:"all 0.3s ease"},children:[e.jsx(l,{icon:z,className:"me-2"}),B("settings.taxes.addTax")]})}),e.jsx(r,{className:"border-0 shadow-sm mb-1",children:e.jsx(i,{children:e.jsxs(c,{className:"align-items-center",children:[e.jsx(d,{md:6,children:e.jsx("div",{className:"d-flex align-items-center gap-3",children:e.jsx(n,{content:B("settings.taxes.help.tooltip"),placement:"bottom",children:e.jsxs("div",{className:"d-flex align-items-center gap-2 text-muted",children:[e.jsx(W,{style:{fontSize:"20px",cursor:"pointer"}}),e.jsx("small",{children:B("settings.taxes.help.hover")})]})})})}),e.jsx(d,{md:6,className:"text-md-end mt-3 mt-md-0",children:e.jsxs("div",{className:"d-flex justify-content-md-end align-items-center gap-3",children:[e.jsx(o,{color:"info",className:"px-3 py-2",style:{borderRadius:"20px",fontSize:"12px",fontWeight:"500"},children:B("settings.taxes.stats.total",{count:D?.length||0})}),e.jsx(o,{color:"success",className:"px-3 py-2",style:{borderRadius:"20px",fontSize:"12px",fontWeight:"500"},children:B("settings.taxes.stats.defaultCount",{count:D?.filter(e=>e.isDefault).length||0})})]})})]})})}),Z&&e.jsx(r,{className:"border-0 shadow-sm",children:e.jsxs(i,{className:"text-center py-5",children:[e.jsx(x,{color:"primary",size:"lg"}),e.jsx("p",{className:"text-muted mt-3 mb-0",children:B("settings.taxes.loading")})]})}),!Z&&e.jsx(r,{className:"border-0 shadow-sm",children:e.jsxs(i,{className:"p-0",children:[D?.length>0?e.jsxs("div",{className:"p-3",children:[e.jsx("h6",{className:"text-muted fw-semibold mb-3 px-2",children:B("settings.taxes.existing.title")}),D.map((s,t)=>e.jsx("div",{className:"mb-3",style:{backgroundColor:"#f8f9fa",borderRadius:"12px",border:"1px solid #e3e6f0",transition:"all 0.3s ease"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 8px 25px rgba(0,0,0,0.1)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow=""},children:e.jsx("div",{className:"p-4",children:e.jsxs(c,{className:"align-items-center",children:[e.jsxs(d,{xs:12,md:4,className:"mb-3 mb-md-0",children:[e.jsx(m,{className:"mb-2 fw-semibold text-dark",children:B("settings.taxes.fields.taxLabel")}),e.jsx(h,{value:s.label,readOnly:!0,className:"fw-medium",style:{backgroundColor:"white",border:"1px solid #dee2e6",borderRadius:"8px",fontSize:"14px"}})]}),e.jsxs(d,{xs:12,md:3,className:"mb-3 mb-md-0",children:[e.jsx(m,{className:"mb-2 fw-semibold text-dark",children:B("settings.taxes.fields.taxRate")}),e.jsxs(p,{children:[e.jsx(h,{value:s.value,readOnly:!0,className:"fw-medium text-center",style:{backgroundColor:"white",border:"1px solid #dee2e6",fontSize:"14px"}}),e.jsx(u,{style:{backgroundColor:"#e9ecef",border:"1px solid #dee2e6",borderLeft:"none"},children:e.jsx(L,{size:"12"})})]})]}),e.jsxs(d,{xs:6,md:2,className:"mb-3 mb-md-0 text-center",children:[e.jsx(m,{className:"mb-2 fw-semibold text-dark d-block",children:B("settings.taxes.fields.default")}),e.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{height:"38px"},children:s.isDefault?e.jsxs(o,{color:"success",className:"px-3 py-2",style:{borderRadius:"20px",fontSize:"11px",fontWeight:"600"},children:[e.jsx(l,{icon:R,className:"me-1",size:"sm"}),B("settings.taxes.fields.defaultBadge")]}):e.jsx(n,{content:B("settings.taxes.fields.setDefault"),placement:"top",children:e.jsx(f,{type:"radio",name:"defaultTax",checked:s.isDefault,onChange:()=>{return e=s.id,void C(v(e));var e},id:`defaultTax-${s.id}`,style:{transform:"scale(1.2)"}})})})]}),e.jsxs(d,{xs:6,md:3,className:"text-center",children:[e.jsx(m,{className:"mb-2 fw-semibold text-dark d-block",children:B("settings.taxes.fields.actions")}),e.jsx(a,{color:"light",size:"sm",className:"p-2",onClick:()=>{return e=s.id,void C(y(e));var e},style:{borderRadius:"8px",border:"1px solid #e3e6f0",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#ffe6e6",e.currentTarget.style.borderColor="#dc3545"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="",e.currentTarget.style.borderColor="#e3e6f0"},children:e.jsx(l,{icon:S,size:"sm",style:{color:"#dc3545"}})})]})]})})},s.id))]}):!Z&&e.jsxs("div",{className:"text-center py-5",children:[e.jsx(A,{className:"text-muted mb-3",style:{fontSize:"48px",opacity:.3}}),e.jsx("p",{className:"text-muted mb-1 fs-5",children:B("settings.taxes.empty.title")}),e.jsx("small",{className:"text-muted",children:B("settings.taxes.empty.subtitle")})]}),E.length>0&&e.jsxs("div",{className:"p-3 border-top border-light",children:[e.jsx("h6",{className:"text-muted fw-semibold mb-3 px-2",children:B("settings.taxes.new.title")}),E.map((s,t)=>e.jsx("div",{className:"mb-3",style:{backgroundColor:"#fff7e6",borderRadius:"12px",border:"2px dashed #ffc107",transition:"all 0.3s ease"},children:e.jsx("div",{className:"p-4",children:e.jsxs(c,{className:"align-items-end",children:[e.jsxs(d,{xs:12,md:4,className:"mb-3 mb-md-0",children:[e.jsx(m,{className:"mb-2 fw-semibold text-dark",children:B("settings.taxes.new.taxLabelRequired")}),e.jsx(h,{value:s.label,onChange:e=>Y(t,"label",e.target.value),placeholder:B("settings.taxes.new.placeholderLabel"),autoFocus:!0,style:{borderRadius:"8px",border:"1px solid #ffc107",fontSize:"14px",boxShadow:"0 2px 8px rgba(255, 193, 7, 0.2)"}})]}),e.jsxs(d,{xs:12,md:3,className:"mb-3 mb-md-0",children:[e.jsx(m,{className:"mb-2 fw-semibold text-dark",children:B("settings.taxes.new.taxRateRequired")}),e.jsxs(p,{children:[e.jsx(h,{type:"number",value:s.value,onChange:e=>Y(t,"value",e.target.value),placeholder:B("settings.taxes.new.placeholderRate"),min:0,max:100,step:"0.01",style:{borderRadius:"8px 0 0 8px",border:"1px solid #ffc107",fontSize:"14px"}}),e.jsx(u,{style:{backgroundColor:"#ffc107",border:"1px solid #ffc107",borderRadius:"0 8px 8px 0",color:"white",fontWeight:"600"},children:e.jsx(L,{size:"12"})})]})]}),e.jsx(d,{xs:12,md:5,children:e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs(a,{color:"success",onClick:()=>(async e=>{try{const s=E[e];await C(w(s)).unwrap(),F(s=>s.filter((s,t)=>t!==e))}catch(s){alert(B("settings.taxes.alerts.addFailed"))}})(t),className:"flex-grow-1",disabled:!s.label.trim()||!s.value.trim(),style:{borderRadius:"8px",fontWeight:"600",boxShadow:"0 4px 12px rgba(72, 180, 97, 0.3)"},children:[e.jsx(l,{icon:M,className:"me-2"}),B("settings.taxes.new.save")]}),e.jsxs(a,{color:"light",variant:"outline",onClick:()=>{return e=t,void F(s=>s.filter((s,t)=>t!==e));var e},className:"flex-grow-1",style:{borderRadius:"8px",fontWeight:"600",borderColor:"#6c757d",color:"#495057"},children:[e.jsx(l,{icon:T,className:"me-2"}),B("settings.taxes.new.cancel")]})]})})]})})},t))]})]})})]})};export{B as default};
