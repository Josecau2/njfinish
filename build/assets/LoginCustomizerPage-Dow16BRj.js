import{j as e}from"./date-vendor-DfW9khhA.js";import{r as s}from"./react-vendor-Dhx0OYb2.js";import{h as t,e as i,r as o,C as l,b as a,d as n,a3 as r,R as c,S as d,a4 as m,V as g,T as x,a6 as h,a5 as u,v as p,i as b,l as f}from"./ui-vendor-pFEG3kEv.js";import{b as j,a0 as N,a1 as v,a2 as w,u as y,a as z}from"./index-CRxBN8Fj.js";import{a as k}from"./redux-vendor-B0DAdCYB.js";import{F as C}from"./icons-vendor-CVrEPnlB.js";import{d as S,j as P,k as R}from"./index-CN1WxwnF.js";import{S as T}from"./utils-vendor-Nl-sF5xe.js";import{P as F}from"./PageHeader-UABCfWk-.js";import{c as I}from"./cil-save-CHBg7z_U.js";import{c as D}from"./cil-color-palette-Cie0ZPas.js";import"./form-vendor-C_vzjFiG.js";var K=["512 512","<polygon fill='var(--ci-primary-color, currentColor)' points='440 168 440 88 72 88 72 168 104 168 136 168 136 120 224 120 224 400 168 400 168 432 344 432 344 400 288 400 288 120 376 120 376 168 408 168 440 168' class='ci-primary'/>"];const L=({config:t})=>{const[i,o]=s.useState(!1),l=k(e=>e.customization).headerBg||"#667eea",a=j(l);return e.jsxs("div",{className:"d-flex flex-column flex-md-row min-vh-100 border rounded shadow overflow-hidden",children:[e.jsx("div",{className:"d-flex align-items-center justify-content-center w-100 w-md-50 px-4 py-5 bg-body",children:e.jsxs("div",{className:"w-100",style:{maxWidth:"400px"},children:[t.logo&&e.jsx("img",{src:t.logo,alt:"Logo",className:"mb-4",style:{height:"60px",objectFit:"contain"}}),e.jsx("h2",{className:"mb-1 fw-bold",children:t.title}),e.jsx("p",{className:"text-muted mb-4",children:t.subtitle}),e.jsxs("form",{onSubmit:e=>e.preventDefault(),children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label fw-medium",children:"Email"}),e.jsx("input",{type:"email",className:"form-control",disabled:!0})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label fw-medium",children:"Password"}),e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:i?"text":"password",className:"form-control",disabled:!0}),e.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>o(!i),tabIndex:-1,children:e.jsx(C,{icon:i?N:v})})]})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[t.showKeepLoggedIn&&e.jsxs("div",{className:"form-check",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",disabled:!0}),e.jsx("label",{className:"form-check-label",children:"Keep me logged in"})]}),t.showForgotPassword&&e.jsx("a",{href:"#",className:"text-primary text-decoration-none",children:"Forgot password?"})]}),e.jsx("button",{type:"submit",className:"btn w-100",disabled:!0,style:{background:l,color:a,border:"none"},children:"Sign in"})]})]})}),e.jsx("div",{className:"d-flex align-items-center justify-content-center w-100 w-md-50 px-4 py-5",style:{backgroundColor:t.backgroundColor},children:(()=>{const s=w(t.backgroundColor||"#0e1446");return e.jsxs("div",{className:"text-center px-4",children:[e.jsx("h2",{style:{color:s.text},children:t.rightTitle}),e.jsx("p",{className:"mb-1",style:{color:s.subtitle},children:t.rightSubtitle}),e.jsx("p",{className:"mb-2",style:{color:s.subtitle},children:t.rightTagline}),e.jsx("p",{style:{color:s.subtitle},children:t.rightDescription})]})})()})]})},B=()=>{const e=localStorage.getItem("token");return e?{Authorization:`Bearer ${e}`}:{}},H=()=>{const{t:j}=y(),[N,v]=s.useState(!1),[w,k]=s.useState(!0),[C,H]=s.useState(!1),[E,A]=s.useState({logo:"",title:"Sign In",subtitle:"Enter your email and password to sign in!",backgroundColor:"#0e1446",showForgotPassword:!0,showKeepLoggedIn:!0,rightTitle:"NJ Cabinets",rightSubtitle:"Configure - Price - Quote",rightTagline:"Dealer Portal",rightDescription:"Manage end-to-end flow, from pricing cabinets to orders and returns with our premium sales automation software tailored to kitchen industry. A flexible and component-based B2B solution that can integrate with your existing inventory, accounting, and other systems."});s.useEffect(()=>{(async()=>{try{k(!0);const e=await z.get("/api/login-customization",{headers:B()});e.data.customization&&A(e.data.customization)}catch(e){T.fire(j("common.error"),j("settings.customization.login.alerts.loadFailed"),"error")}finally{k(!1)}})()},[]);const Q=(e,s)=>{A(t=>({...t,[e]:s}))},W=(s,t)=>{const i=(s?.length||0)>t;return e.jsx("small",{className:"text-"+(i?"danger":"muted")})};return e.jsxs(t,{fluid:!0,className:"p-2 m-2 main-div-custom-login",style:{backgroundColor:"#f8fafc",minHeight:"100vh"},children:[e.jsxs(F,{title:j("settings.customization.login.headerTitle"),subtitle:j("settings.customization.login.headerSubtitle"),icon:S,children:[e.jsxs(i,{color:"light",className:"shadow-sm px-4 fw-semibold",onClick:()=>v(!0),disabled:w,style:{borderRadius:"8px",border:"none",transition:"all 0.3s ease"},children:[e.jsx(o,{icon:I,className:"me-2"}),j("settings.customization.login.buttons.preview")]}),e.jsx(i,{color:"success",className:"shadow-sm px-4 fw-semibold",onClick:async()=>{try{H(!0),await z.post("/api/login-customization",E,{headers:B()}),await T.fire(j("common.success"),j("settings.customization.login.alerts.saveSuccess"),"success")}catch(e){T.fire(j("common.error"),j("settings.customization.login.alerts.saveFailed"),"error")}finally{H(!1)}},disabled:w||C,style:{borderRadius:"8px",border:"none",transition:"all 0.3s ease"},children:C?e.jsxs(e.Fragment,{children:[e.jsx(l,{size:"sm",className:"me-2"}),j("settings.customization.login.buttons.saving")]}):e.jsxs(e.Fragment,{children:[e.jsx(o,{icon:I,className:"me-2"}),j("settings.customization.login.buttons.saveSettings")]})})]}),w&&e.jsx(a,{className:"border-0 shadow-sm",children:e.jsxs(n,{className:"text-center py-5",children:[e.jsx(l,{color:"primary",size:"lg"}),e.jsx("p",{className:"text-muted mt-3 mb-0",children:j("settings.customization.login.loading")})]})}),!w&&e.jsx(a,{className:"border-0 shadow-sm",children:e.jsx(n,{children:e.jsx(r,{children:e.jsxs(c,{children:[e.jsx(d,{lg:6,children:e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center gap-2 mb-3",children:[e.jsx("div",{className:"d-flex align-items-center justify-content-center",style:{width:"32px",height:"32px",backgroundColor:"#e7f3ff",borderRadius:"8px"},children:e.jsx(o,{icon:K,style:{color:"#0d6efd",fontSize:"16px"}})}),e.jsx("h5",{className:"fw-bold mb-0 text-dark",children:j("settings.customization.login.form.title")})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(m,{className:"fw-semibold text-dark mb-2",children:j("settings.customization.login.form.loginTitle")}),e.jsx(g,{value:E.title,onChange:e=>Q("title",e.target.value),placeholder:j("settings.customization.login.form.placeholders.title"),style:{borderRadius:"8px",border:"1px solid #e3e6f0",fontSize:"14px",padding:"12px 16px"}}),W(E.title,50)]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(m,{className:"fw-semibold text-dark mb-2",children:j("settings.customization.login.form.loginSubtitle")}),e.jsx(g,{value:E.subtitle,onChange:e=>Q("subtitle",e.target.value),placeholder:j("settings.customization.login.form.placeholders.subtitle"),style:{borderRadius:"8px",border:"1px solid #e3e6f0",fontSize:"14px",padding:"12px 16px"}}),W(E.subtitle,100)]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs(m,{className:"fw-semibold text-dark mb-2",children:[e.jsx(o,{icon:D,className:"me-2"}),j("settings.customization.login.form.backgroundColor")]}),e.jsxs(x,{children:[e.jsx("input",{type:"color",className:"form-control form-control-color",value:E.backgroundColor,onChange:e=>Q("backgroundColor",e.target.value),style:{borderRadius:"8px 0 0 8px",border:"1px solid #e3e6f0",width:"60px"}}),e.jsx(g,{value:E.backgroundColor,onChange:e=>Q("backgroundColor",e.target.value),placeholder:"#000000",style:{borderRadius:"0 8px 8px 0",border:"1px solid #e3e6f0",borderLeft:"none",fontSize:"14px"}})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(m,{className:"fw-semibold text-dark mb-3",children:j("settings.customization.login.options.title")}),e.jsxs("div",{className:"d-flex flex-column gap-3",children:[e.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"#f8f9fa",border:"1px solid #e3e6f0"},children:[e.jsx(h,{className:"mb-0",label:j("settings.customization.login.options.showForgot"),checked:E.showForgotPassword,onChange:e=>Q("showForgotPassword",e.target.checked),id:"forgotPassword"}),e.jsx("small",{className:"text-muted",children:j("settings.customization.login.options.showForgotHint")})]}),e.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"#f8f9fa",border:"1px solid #e3e6f0"},children:[e.jsx(h,{className:"mb-0",label:j("settings.customization.login.options.showKeep"),checked:E.showKeepLoggedIn,onChange:e=>Q("showKeepLoggedIn",e.target.checked),id:"keepLoggedIn"}),e.jsx("small",{className:"text-muted",children:j("settings.customization.login.options.showKeepHint")})]})]})]})]})}),e.jsx(d,{lg:6,children:e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center gap-2 mb-3",children:[e.jsx("div",{className:"d-flex align-items-center justify-content-center",style:{width:"32px",height:"32px",backgroundColor:"#e6ffed",borderRadius:"8px"},children:e.jsx(P,{style:{color:"#198754",fontSize:"16px"}})}),e.jsx("h5",{className:"fw-bold mb-0 text-dark",children:j("settings.customization.login.rightPanel.title")})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(m,{className:"fw-semibold text-dark mb-2",children:j("settings.customization.login.rightPanel.panelTitle")}),e.jsx(g,{value:E.rightTitle,onChange:e=>Q("rightTitle",e.target.value),placeholder:j("settings.customization.login.rightPanel.placeholders.title"),style:{borderRadius:"8px",border:"1px solid #e3e6f0",fontSize:"14px",padding:"12px 16px"}}),W(E.rightTitle,50)]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(m,{className:"fw-semibold text-dark mb-2",children:j("settings.customization.login.rightPanel.panelSubtitle")}),e.jsx(g,{value:E.rightSubtitle,onChange:e=>Q("rightSubtitle",e.target.value),placeholder:j("settings.customization.login.rightPanel.placeholders.subtitle"),style:{borderRadius:"8px",border:"1px solid #e3e6f0",fontSize:"14px",padding:"12px 16px"}}),W(E.rightSubtitle,80)]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(m,{className:"fw-semibold text-dark mb-2",children:j("settings.customization.login.rightPanel.tagline")}),e.jsx(g,{value:E.rightTagline,onChange:e=>Q("rightTagline",e.target.value),placeholder:j("settings.customization.login.rightPanel.placeholders.tagline"),style:{borderRadius:"8px",border:"1px solid #e3e6f0",fontSize:"14px",padding:"12px 16px"}}),W(E.rightTagline,30)]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(m,{className:"fw-semibold text-dark mb-2",children:j("settings.customization.login.rightPanel.description")}),e.jsx(u,{rows:5,value:E.rightDescription,onChange:e=>Q("rightDescription",e.target.value),placeholder:j("settings.customization.login.rightPanel.placeholders.description"),style:{borderRadius:"8px",border:"1px solid #e3e6f0",fontSize:"14px",padding:"12px 16px",resize:"vertical"}}),W(E.rightDescription,500)]}),e.jsx("div",{className:"mt-4",children:e.jsxs(p,{color:"info",className:"px-3 py-2",style:{borderRadius:"20px",fontSize:"12px",fontWeight:"500"},children:[e.jsx(R,{className:"me-1"}),j("settings.customization.login.previewBadge")]})})]})})]})})})}),e.jsxs(b,{visible:N,onClose:()=>v(!1),fullscreen:!0,className:"login-preview-modal",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center p-3 border-bottom",children:[e.jsx("h5",{className:"mb-0 fw-bold",children:j("settings.customization.login.previewTitle")}),e.jsx(i,{color:"light",size:"sm",onClick:()=>v(!1),style:{borderRadius:"6px"},children:j("settings.customization.login.closePreview")})]}),e.jsx(f,{className:"p-0",children:e.jsx(L,{config:E})})]}),e.jsx("style",{children:"\n        .login-preview-modal .modal-content {\n          border: none;\n          border-radius: 0;\n        }\n        \n        .form-control-color {\n          height: 45px;\n        }\n        \n        .form-check-input:checked {\n          background-color: #0d6efd;\n          border-color: #0d6efd;\n        }\n        \n        .form-check-input:focus {\n          border-color: #86b7fe;\n          outline: 0;\n          box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);\n        }\n  "})]})};export{H as default};
