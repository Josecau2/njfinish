import{j as e}from"./date-vendor-DfW9khhA.js";import{u as s,r as a}from"./react-vendor-Dhx0OYb2.js";import{u as t,a as i}from"./redux-vendor-B0DAdCYB.js";import{u as r,b as n,G as l}from"./index-BxG4qwLs.js";import{h as c,e as o,r as m,a as d,a3 as u,b as p,d as h,R as x,S as f,aa as b,a4 as g,a6 as j,C as y,T as v,U as N,V as w,a7 as k,a5 as C}from"./ui-vendor-pFEG3kEv.js";import{P as M}from"./PageHeader-UABCfWk-.js";import{c as P}from"./cil-building-DVuwBvuD.js";import{c as E}from"./cil-arrow-left-D66Kb3Zq.js";import{c as F}from"./cil-info-CmGCY32x.js";import{c as S}from"./cil-envelope-closed-DSbcONbs.js";import{c as z}from"./cil-phone-4mwkG2LD.js";import{a as D,e as I}from"./DefaultLayout-CDydDzk1.js";import{c as R}from"./cil-description-MUzg6O3n.js";import{c as q}from"./cil-image-CaFvPawJ.js";import{c as T}from"./cil-cloud-upload-Ca9_6_ej.js";import{c as H}from"./cil-save-CHBg7z_U.js";import"./form-vendor-C_vzjFiG.js";import"./utils-vendor-Nl-sF5xe.js";import"./icons-vendor-CVrEPnlB.js";var A=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M296,240H216a46.222,46.222,0,1,1,0-92.444H344v-32H276V56H244v59.556H216A78.222,78.222,0,0,0,216,272h80a46.274,46.274,0,0,1,46.222,46.222v3.556A46.274,46.274,0,0,1,296,368H160.593v32H244v56h32V400h20a78.31,78.31,0,0,0,78.222-78.222v-3.556A78.31,78.31,0,0,0,296,240Z' class='ci-primary'/>"];const L=({title:s,icon:a,children:t,className:i="",customization:r})=>{const l=r?.headerBg||"#667eea",c=n(l);return e.jsx(p,{className:`border-0 shadow-sm mb-4 ${i}`,children:e.jsxs(h,{className:"p-4",children:[e.jsxs("div",{className:"d-flex align-items-center mb-4",children:[e.jsx("div",{className:"rounded-circle d-flex align-items-center justify-content-center me-3",style:{width:"40px",height:"40px",backgroundColor:l,color:c},children:e.jsx(m,{icon:a,size:"sm"})}),e.jsx("h6",{className:"mb-0 fw-semibold text-dark",children:s})]}),t]})})},U=({label:s,name:a,type:t="text",required:i=!1,icon:r=null,placeholder:n="",value:l,onChange:c,isInvalid:o,feedback:d,...u})=>e.jsxs("div",{className:"mb-3",children:[e.jsxs(g,{htmlFor:a,className:"fw-medium text-dark mb-2",children:[s,i&&e.jsx("span",{className:"text-danger ms-1",children:"*"})]}),e.jsxs(v,{children:[r&&e.jsx(N,{className:"bg-light border-end-0",children:e.jsx(m,{icon:r,size:"sm",className:"text-muted"})}),e.jsx(w,{type:t,id:a,name:a,value:l,onChange:c,placeholder:n,invalid:o,className:r?"border-start-0":"",...u}),d&&e.jsx(k,{children:d})]})]}),O=({label:s,name:a,required:t=!1,icon:i=null,placeholder:r="",rows:n=4,value:l,onChange:c,isInvalid:o,feedback:d,...u})=>e.jsxs("div",{className:"mb-3",children:[e.jsxs(g,{htmlFor:a,className:"fw-medium text-dark mb-2",children:[s,t&&e.jsx("span",{className:"text-danger ms-1",children:"*"})]}),e.jsxs(v,{children:[i&&e.jsx(N,{className:"bg-light border-end-0",children:e.jsx(m,{icon:i,size:"sm",className:"text-muted"})}),e.jsx(C,{id:a,name:a,rows:n,value:l,onChange:c,placeholder:r,invalid:o,className:i?"border-start-0":"",...u}),d&&e.jsx(k,{children:d})]})]}),V=({title:s,icon:a,accept:t,multiple:i=!1,onChange:r,selectedFiles:n,helpText:l})=>e.jsxs("div",{className:"mb-3",children:[e.jsx(g,{className:"fw-medium text-dark mb-2",children:s}),e.jsxs("div",{className:"border-2 border-dashed rounded-3 p-4 text-center position-relative bg-light",children:[e.jsx(m,{icon:a,size:"xl",className:"text-muted mb-2"}),e.jsx("p",{className:"text-muted mb-2",children:"Click to browse or drag and drop files here"}),e.jsx(w,{type:"file",accept:t,multiple:i,onChange:r,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0,cursor:"pointer"}}),l&&e.jsx(b,{className:"text-muted d-block",children:l}),n&&e.jsx("div",{className:"mt-3",children:Array.isArray(n)?0===n.length?e.jsx("span",{className:"text-danger small",children:"No files selected"}):e.jsxs("div",{className:"text-success small",children:[e.jsx(m,{icon:T,className:"me-1"}),n.length," file(s) selected"]}):e.jsxs("div",{className:"text-success small",children:[e.jsx(m,{icon:q,className:"me-1"}),"Image selected: ",n.name]})})]})]}),$=()=>{const{t:v}=r(),N=s(),w=t(),k=i(e=>e.customization),C=k.headerBg||"#667eea";n(C);const[$,B]=a.useState({name:"",email:"",phone:"",address:"",website:"",isPriceMSRP:!0,costMultiplier:"",instructions:"",assembledEtaDays:"",unassembledEtaDays:""}),[Z,G]=a.useState([]),[X,Y]=a.useState({text:"",type:""}),[J,K]=a.useState(!1),[Q,W]=a.useState(null),[_,ee]=a.useState({}),se=e=>{const{name:s,value:a,type:t,checked:i}=e.target;B(e=>({...e,[s]:"checkbox"===t?i:a})),_[s]&&ee(e=>({...e,[s]:""}))},ae=e=>{B(s=>({...s,isPriceMSRP:e}))};return e.jsxs(c,{fluid:!0,className:"p-2 m-2 manufacturer-form",style:{backgroundColor:"#f8fafc",minHeight:"100vh"},children:[e.jsx("style",{children:"\n          @media (max-width: 768px) {\n            .manufacturer-form .p-4 {\n              padding: 1.5rem !important;\n            }\n            \n            .manufacturer-form .mb-4 {\n              margin-bottom: 1.5rem !important;\n            }\n          }\n          \n          @media (max-width: 576px) {\n            .manufacturer-form .p-4 {\n              padding: 1rem !important;\n            }\n            \n            .manufacturer-form h3 {\n              font-size: 1.5rem !important;\n            }\n            \n            .manufacturer-form .btn {\n              width: 100%;\n              margin-bottom: 0.5rem;\n            }\n            \n            .manufacturer-form .btn:last-child {\n              margin-bottom: 0;\n            }\n          }\n        "}),e.jsx(M,{title:v("settings.manufacturers.create.title"),subtitle:v("settings.manufacturers.create.subtitle"),icon:P,rightContent:e.jsxs(o,{color:"light",className:"shadow-sm px-4 fw-semibold d-none d-md-block",onClick:()=>window.history.back(),style:{borderRadius:"5px",border:"none",transition:"all 0.3s ease"},children:[e.jsx(m,{icon:E,className:"me-2"}),v("settings.manufacturers.create.back")]})}),X.text&&e.jsx(d,{color:X.type,dismissible:!0,onClose:()=>Y({text:"",type:""}),className:"border-0 shadow-sm mb-4",style:{borderRadius:"12px"},children:X.text}),e.jsxs(u,{onSubmit:async e=>{e.preventDefault();const s=(()=>{const e={};return["name","email","phone","website","address","costMultiplier"].forEach(s=>{$[s]?.toString().trim()||(e[s]=v("settings.users.form.validation.required"))}),$.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test($.email)&&(e.email=v("customers.form.validation.invalidEmail")),$.website&&!/^https?:\/\/.+/.test($.website)&&(e.website="Please enter a valid URL starting with http:// or https://"),$.costMultiplier&&parseFloat($.costMultiplier)<=0&&(e.costMultiplier=v("settings.manufacturers.edit.costMultiplier")+" "+v("customers.form.validation.required")),e})();if(ee(s),Object.keys(s).length>0)Y({text:v("settings.manufacturers.create.messages.validationFix"),type:"danger"});else{K(!0),Y({text:"",type:""});try{const e=new FormData;e.append("name",$.name),e.append("email",$.email),e.append("phone",$.phone),e.append("address",$.address),e.append("website",$.website),e.append("isPriceMSRP",$.isPriceMSRP),e.append("costMultiplier",$.costMultiplier),e.append("instructions",$.instructions),e.append("assembledEtaDays",$.assembledEtaDays||""),e.append("unassembledEtaDays",$.unassembledEtaDays||""),Q&&e.append("manufacturerImage",Q),Z.forEach(s=>{e.append("catalogFiles",s)});await w(l(e)).unwrap();Y({text:v("settings.manufacturers.create.messages.created"),type:"success"}),B({name:"",email:"",phone:"",address:"",website:"",isPriceMSRP:!0,costMultiplier:"",instructions:""}),G([]),W(null),ee({}),setTimeout(()=>{N("/settings/manufacturers")},2e3)}catch(a){Y({text:a.message||v("settings.manufacturers.create.messages.createFailed"),type:"danger"})}finally{K(!1)}}},children:[e.jsx(p,{className:"border-0 shadow-sm mb-4",style:{borderLeft:`4px solid ${C}`},children:e.jsx(h,{className:"py-3 px-4",style:{backgroundColor:"#f0f7ff"},children:e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx(m,{icon:F,className:"text-primary me-2 mt-1"}),e.jsxs("p",{className:"mb-0 text-primary",children:[e.jsx("strong",{children:v("settings.manufacturers.create.infoTitle")})," ",v("settings.manufacturers.create.infoText")]})]})})}),e.jsxs(L,{title:v("settings.manufacturers.sections.basicInfo"),icon:P,customization:k,children:[e.jsxs(x,{children:[e.jsx(f,{md:6,children:e.jsx(U,{label:v("settings.manufacturers.fields.manufacturerName"),name:"name",required:!0,icon:P,placeholder:v("settings.manufacturers.placeholders.manufacturerName"),value:$.name,onChange:se,isInvalid:!!_.name,feedback:_.name})}),e.jsx(f,{md:6,children:e.jsx(U,{label:v("settings.manufacturers.fields.orderEmail"),name:"email",type:"email",required:!0,icon:S,placeholder:v("settings.manufacturers.placeholders.orderEmail"),value:$.email,onChange:se,isInvalid:!!_.email,feedback:_.email})})]}),e.jsxs(x,{children:[e.jsx(f,{md:6,children:e.jsx(U,{label:v("settings.manufacturers.fields.phone"),name:"phone",type:"tel",required:!0,icon:z,placeholder:v("settings.manufacturers.placeholders.phone"),value:$.phone,onChange:se,isInvalid:!!_.phone,feedback:_.phone})}),e.jsx(f,{md:6,children:e.jsx(U,{label:v("settings.manufacturers.fields.website"),name:"website",type:"url",required:!0,icon:D,placeholder:v("settings.manufacturers.placeholders.website"),value:$.website,onChange:se,isInvalid:!!_.website,feedback:_.website})})]}),e.jsx(U,{label:v("settings.manufacturers.fields.address"),name:"address",required:!0,icon:D,placeholder:v("settings.manufacturers.placeholders.address"),value:$.address,onChange:se,isInvalid:!!_.address,feedback:_.address}),e.jsxs(x,{children:[e.jsxs(f,{md:6,children:[e.jsx(U,{label:v("settings.manufacturers.fields.assembledEtaDays","Assembled Items ETA"),name:"assembledEtaDays",type:"text",icon:P,placeholder:"e.g., 7-14 days",value:$.assembledEtaDays,onChange:se}),e.jsx(b,{className:"text-muted ms-3",children:v("settings.manufacturers.help.assembledEta","Estimated delivery time for assembled cabinets")})]}),e.jsxs(f,{md:6,children:[e.jsx(U,{label:v("settings.manufacturers.fields.unassembledEtaDays","Unassembled Items ETA"),name:"unassembledEtaDays",type:"text",icon:R,placeholder:"e.g., 3-7 days",value:$.unassembledEtaDays,onChange:se}),e.jsx(b,{className:"text-muted ms-3",children:v("settings.manufacturers.help.unassembledEta","Estimated delivery time for unassembled cabinets")})]})]})]}),e.jsx(L,{title:v("settings.manufacturers.sections.logo"),icon:q,customization:k,children:e.jsx(V,{title:v("settings.manufacturers.fields.uploadLogo"),icon:q,accept:"image/*",onChange:e=>{W(e.target.files[0])},selectedFiles:Q,helpText:v("settings.manufacturers.help.logo")})}),e.jsxs(L,{title:v("settings.manufacturers.sections.pricing"),icon:A,customization:k,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(g,{className:"fw-medium text-dark mb-3",children:v("settings.manufacturers.fields.priceInfoType")}),e.jsxs("div",{className:"d-flex flex-column gap-2",children:[e.jsxs("div",{className:"border rounded-3 p-3 cursor-pointer transition-all "+($.isPriceMSRP?"border-primary bg-light":"border-light"),style:{cursor:"pointer",transition:"all 0.3s ease"},onClick:()=>ae(!0),children:[e.jsx(j,{type:"radio",id:"msrpPrices",checked:$.isPriceMSRP,onChange:()=>ae(!0),className:"mb-0"}),e.jsx("label",{htmlFor:"msrpPrices",className:"ms-2 fw-medium",style:{cursor:"pointer"},children:v("settings.manufacturers.fields.msrpOption")})]}),e.jsxs("div",{className:"border rounded-3 p-3 cursor-pointer transition-all "+($.isPriceMSRP?"border-light":"border-primary bg-light"),style:{cursor:"pointer",transition:"all 0.3s ease"},onClick:()=>ae(!1),children:[e.jsx(j,{type:"radio",id:"costPrices",checked:!$.isPriceMSRP,onChange:()=>ae(!1),className:"mb-0"}),e.jsx("label",{htmlFor:"costPrices",className:"ms-2 fw-medium",style:{cursor:"pointer"},children:v("settings.manufacturers.fields.costOption")})]})]})]}),e.jsx(x,{children:e.jsxs(f,{md:6,children:[e.jsx(U,{label:v("settings.manufacturers.fields.costMultiplier"),name:"costMultiplier",type:"number",step:"0.1",required:!0,icon:I,placeholder:v("settings.manufacturers.placeholders.costMultiplier"),value:$.costMultiplier,onChange:se,isInvalid:!!_.costMultiplier,feedback:_.costMultiplier}),$.costMultiplier&&e.jsxs(b,{className:"text-info mt-2",children:[e.jsx(m,{icon:F,className:"me-1",size:"sm"}),v("settings.manufacturers.example.multiplier",{msrp:200..toFixed(2),cost:100..toFixed(2),multiplier:parseFloat($.costMultiplier).toFixed(1)})]})]})})]}),e.jsx(L,{title:v("settings.manufacturers.sections.instructions"),icon:R,customization:k,children:e.jsx(O,{label:v("settings.manufacturers.fields.instructions"),name:"instructions",icon:R,placeholder:v("settings.manufacturers.placeholders.instructions"),rows:4,value:$.instructions,onChange:se,isInvalid:!!_.instructions,feedback:_.instructions})}),e.jsx(L,{title:v("settings.manufacturers.sections.catalog"),icon:T,customization:k,children:e.jsx(V,{title:v("settings.manufacturers.fields.chooseCatalogFiles"),icon:T,accept:".pdf,.xlsx,.xls,.csv",multiple:!0,onChange:e=>{G([...e.target.files])},selectedFiles:Z,helpText:v("settings.manufacturers.help.catalog")})}),e.jsx(p,{className:"border-0 shadow-sm",children:e.jsx(h,{className:"p-4",children:e.jsxs("div",{className:"d-flex gap-3 justify-content-end flex-wrap",children:[e.jsxs(o,{color:"light",size:"lg",onClick:()=>window.history.back(),className:"px-4 fw-semibold d-md-inline-block",style:{borderRadius:"12px",border:"1px solid #e3e6f0",transition:"all 0.3s ease"},children:[e.jsx(m,{icon:E,className:"me-2"}),v("common.cancel")]}),e.jsx(o,{type:"submit",color:"success",size:"lg",disabled:J,className:"px-5 fw-semibold",style:{borderRadius:"12px",border:"none",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",transition:"all 0.3s ease"},children:J?e.jsxs(e.Fragment,{children:[e.jsx(y,{size:"sm",className:"me-2"}),v("settings.manufacturers.create.submitting")]}):e.jsxs(e.Fragment,{children:[e.jsx(m,{icon:H,className:"me-2"}),v("settings.manufacturers.create.submit")]})})]})})})]})]})};export{$ as default};
