import{j as e}from"./date-vendor-DfW9khhA.js";import{r as s}from"./react-vendor-Dhx0OYb2.js";import{u as t,a as i}from"./redux-vendor-B0DAdCYB.js";import{u as o,a,$ as l}from"./index-CRxBN8Fj.js";import{h as r,e as n,C as d,r as c,b as m,d as x,a as p,R as g,S as u,a4 as h,V as f,v as b}from"./ui-vendor-pFEG3kEv.js";import{P as j}from"./PageHeader-UABCfWk-.js";import{d as y}from"./index-CN1WxwnF.js";import{c as N}from"./cil-save-CHBg7z_U.js";import{c as z}from"./cil-image-CaFvPawJ.js";import{c as v}from"./cil-trash-CBbKHhHb.js";import{c as w}from"./cil-color-palette-Cie0ZPas.js";import"./form-vendor-C_vzjFiG.js";import"./utils-vendor-Nl-sF5xe.js";import"./icons-vendor-CVrEPnlB.js";const C=()=>{const{t:C}=o(),S=t(),k=i(e=>e.customization),R="https://app.nj.contractors",[F,L]=s.useState(k),[B,P]=s.useState(null),[T,I]=s.useState(!1),[U,$]=s.useState({type:"",text:""});s.useEffect(()=>{L(k);const e=k.logoImage?`${R}${k.logoImage}`:null;P(e||null)},[k,R]);const E=e=>{const{name:s,value:t}=e.target;L(e=>({...e,[s]:t}))};return e.jsxs(r,{fluid:!0,className:"p-2 m-2",style:{backgroundColor:"#f8fafc",minHeight:"100vh"},children:[e.jsx(j,{title:C("settings.customization.ui.headerTitle"),subtitle:C("settings.customization.ui.headerSubtitle"),icon:y,children:e.jsx(n,{color:"light",className:"shadow-sm px-4 fw-semibold d-flex align-items-center",onClick:async()=>{try{I(!0),$({type:"",text:""});const e=new FormData;Object.entries(F).forEach(([s,t])=>{e.append(s,t)}),await a.post("/api/settings/customization",e,{headers:{"Content-Type":"multipart/form-data"}});const{data:s}=await a.get("/api/settings/customization");S(l(s)),$({type:"success",text:C("settings.customization.ui.alerts.saveSuccess")})}catch(e){$({type:"danger",text:C("settings.customization.ui.alerts.saveFailed")})}finally{I(!1)}},disabled:T,style:{borderRadius:"8px",border:"none",transition:"all 0.3s ease"},children:T?e.jsxs(e.Fragment,{children:[e.jsx(d,{size:"sm",className:"me-2"}),C("settings.customization.ui.buttons.saving")]}):e.jsxs(e.Fragment,{children:[e.jsx(c,{icon:N,className:"me-2"}),C("settings.customization.ui.buttons.saveChanges")]})})}),U.text&&e.jsx(m,{className:"border-0 shadow-sm mb-2",children:e.jsx(x,{className:"py-2",children:e.jsx(p,{color:U.type,dismissible:!0,onClose:()=>{$({type:"",text:""})},className:"mb-0",style:{border:"none",borderRadius:"8px"},children:U.text})})}),e.jsxs(g,{className:"g-3",children:[e.jsx(u,{lg:6,children:e.jsxs(m,{className:"border-0 shadow-sm h-100",children:[e.jsx("div",{className:"px-4 py-3 border-bottom",style:{backgroundColor:"#f8f9fa"},children:e.jsxs("div",{className:"d-flex align-items-center gap-3",children:[e.jsx("div",{className:"d-flex align-items-center justify-content-center brand-logo",children:e.jsx(c,{icon:z,style:{color:"white",fontSize:"14px"}})}),e.jsxs("div",{children:[e.jsx("h5",{className:"mb-0 fw-semibold text-dark",children:C("settings.customization.ui.brandLogo.title")}),e.jsx("small",{className:"text-muted",children:C("settings.customization.ui.brandLogo.subtitle")})]})]})}),e.jsxs(x,{className:"p-4",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx(h,{className:"fw-medium text-dark mb-2",children:C("settings.customization.ui.brandLogo.labels.logoText")}),e.jsx(f,{name:"logoText",value:F.logoText,onChange:E,placeholder:C("settings.customization.ui.brandLogo.placeholders.logoText"),style:{border:"1px solid #e3e6f0",borderRadius:"8px",fontSize:"14px",padding:"12px 16px"}})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(h,{className:"fw-medium text-dark mb-2",children:C("settings.customization.ui.brandLogo.labels.uploadLogo")}),e.jsxs("div",{className:"position-relative",children:[e.jsx(f,{type:"file",accept:"image/*",onChange:e=>{const s=e.target.files[0];if(s){if(s.size>5242880)return void $({type:"danger",text:C("settings.customization.ui.alerts.fileTooLarge")});if(!s.type.startsWith("image/"))return void $({type:"danger",text:C("settings.customization.ui.alerts.invalidImage")});L(e=>({...e,logoImage:s})),P(URL.createObjectURL(s)),$({type:"",text:""})}},className:"position-absolute opacity-0 w-100 h-100",style:{zIndex:2,cursor:"pointer"},id:"logo-upload"}),e.jsx("div",{className:"d-flex align-items-center justify-content-center p-4 text-center",style:{border:"2px dashed #e3e6f0",borderRadius:"8px",backgroundColor:"#f8f9fa",cursor:"pointer",transition:"all 0.2s ease"},children:e.jsxs("div",{children:[e.jsx(c,{icon:z,className:"mb-2",style:{fontSize:"24px",color:"#6c757d"}}),e.jsx("p",{className:"mb-0 text-muted",children:C("settings.customization.ui.brandLogo.chooseImageCta")}),e.jsx("small",{className:"text-muted",children:C("settings.customization.ui.brandLogo.supportedTypes")})]})})]})]}),B&&e.jsxs("div",{className:"mb-0",children:[e.jsx(h,{className:"fw-medium text-dark mb-2",children:C("settings.customization.ui.brandLogo.labels.preview")}),e.jsxs("div",{className:"d-flex align-items-center gap-3 p-3",style:{backgroundColor:"#f8f9fa",borderRadius:"8px",border:"1px solid #e9ecef"},children:[e.jsx("img",{src:B,alt:C("settings.customization.ui.brandLogo.alt.logoPreview"),style:{height:"40px",width:"auto",borderRadius:"4px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"}}),e.jsx(n,{color:"light",size:"sm",onClick:async()=>{try{I(!0),k.logoImage&&await a.delete("/api/settings/customization/logo"),L(e=>({...e,logoImage:""})),P(null),S(l({...k,logoImage:""})),$({type:"success",text:C("settings.customization.ui.alerts.removeLogoSuccess")})}catch(e){$({type:"danger",text:C("settings.customization.ui.alerts.removeLogoFailed")})}finally{I(!1)}},disabled:T,className:"p-2",style:{borderRadius:"6px",border:"1px solid #e3e6f0",transition:"all 0.2s ease"},children:T?e.jsx(d,{size:"sm"}):e.jsx(c,{icon:v,style:{color:"#dc3545"}})})]})]})]})]})}),e.jsx(u,{lg:6,children:e.jsxs(m,{className:"border-0 shadow-sm h-100",children:[e.jsx("div",{className:"px-4 py-3 border-bottom",style:{backgroundColor:"#f8f9fa"},children:e.jsxs("div",{className:"d-flex align-items-center gap-3",children:[e.jsx("div",{className:"d-flex align-items-center justify-content-center brand-logo",children:e.jsx(c,{icon:w,style:{color:"white",fontSize:"14px"}})}),e.jsxs("div",{children:[e.jsx("h5",{className:"mb-0 fw-semibold text-dark",children:C("settings.customization.ui.colorPalette.title")}),e.jsx("small",{className:"text-muted",children:C("settings.customization.ui.colorPalette.subtitle")})]})]})}),e.jsxs(x,{className:"p-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("h6",{className:"fw-semibold text-dark mb-3 d-flex align-items-center gap-2",children:[e.jsx(b,{color:"info",className:"px-2 py-1",style:{borderRadius:"4px",fontSize:"10px"},children:C("settings.customization.ui.colorPalette.headerBadge")}),C("settings.customization.ui.colorPalette.headerTitle")]}),e.jsxs(g,{className:"g-3 mb-3",children:[e.jsxs(u,{sm:6,children:[e.jsx(h,{className:"fw-medium text-muted mb-2",style:{fontSize:"13px"},children:C("settings.customization.ui.colorPalette.labels.logoBg")}),e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx("input",{type:"color",name:"logoBg",value:F.logoBg||"#0dcaf0",onChange:E,style:{width:"36px",height:"36px",border:"1px solid #dee2e6",borderRadius:"6px",cursor:"pointer",padding:"0"}}),e.jsx(b,{color:"light",className:"px-3 py-2",style:{fontFamily:"monospace",fontSize:"12px",backgroundColor:"#f8f9fa",color:"#6c757d",border:"1px solid #e9ecef"},children:F.logoBg||"#0dcaf0"})]})]}),e.jsxs(u,{sm:6,children:[e.jsx(h,{className:"fw-medium text-muted mb-2",style:{fontSize:"13px"},children:C("settings.customization.ui.colorPalette.labels.headerBg")}),e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx("input",{type:"color",name:"headerBg",value:F.headerBg,onChange:E,style:{width:"36px",height:"36px",border:"1px solid #dee2e6",borderRadius:"6px",cursor:"pointer",padding:"0"}}),e.jsx(b,{color:"light",className:"px-3 py-2",style:{fontFamily:"monospace",fontSize:"12px",backgroundColor:"#f8f9fa",color:"#6c757d",border:"1px solid #e9ecef"},children:F.headerBg})]})]})]}),e.jsx(g,{className:"g-3",children:e.jsxs(u,{sm:6,children:[e.jsx(h,{className:"fw-medium text-muted mb-2",style:{fontSize:"13px"},children:C("settings.customization.ui.colorPalette.labels.headerText")}),e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx("input",{type:"color",name:"headerFontColor",value:F.headerFontColor,onChange:E,style:{width:"36px",height:"36px",border:"1px solid #dee2e6",borderRadius:"6px",cursor:"pointer",padding:"0"}}),e.jsx(b,{color:"light",className:"px-3 py-2",style:{fontFamily:"monospace",fontSize:"12px",backgroundColor:"#f8f9fa",color:"#6c757d",border:"1px solid #e9ecef"},children:F.headerFontColor})]})]})})]}),e.jsxs("div",{className:"mb-0",children:[e.jsxs("h6",{className:"fw-semibold text-dark mb-3 d-flex align-items-center gap-2",children:[e.jsx(b,{color:"secondary",className:"px-2 py-1",style:{borderRadius:"4px",fontSize:"10px"},children:C("settings.customization.ui.colorPalette.sidebarBadge")}),C("settings.customization.ui.colorPalette.sidebarTitle")]}),e.jsxs(g,{className:"g-3",children:[e.jsxs(u,{sm:6,children:[e.jsx(h,{className:"fw-medium text-muted mb-2",style:{fontSize:"13px"},children:C("settings.customization.ui.colorPalette.labels.sidebarBg")}),e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx("input",{type:"color",name:"sidebarBg",value:F.sidebarBg,onChange:E,style:{width:"36px",height:"36px",border:"1px solid #dee2e6",borderRadius:"6px",cursor:"pointer",padding:"0"}}),e.jsx(b,{color:"light",className:"px-3 py-2",style:{fontFamily:"monospace",fontSize:"12px",backgroundColor:"#f8f9fa",color:"#6c757d",border:"1px solid #e9ecef"},children:F.sidebarBg})]})]}),e.jsxs(u,{sm:6,children:[e.jsx(h,{className:"fw-medium text-muted mb-2",style:{fontSize:"13px"},children:C("settings.customization.ui.colorPalette.labels.sidebarText")}),e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx("input",{type:"color",name:"sidebarFontColor",value:F.sidebarFontColor,onChange:E,style:{width:"36px",height:"36px",border:"1px solid #dee2e6",borderRadius:"6px",cursor:"pointer",padding:"0"}}),e.jsx(b,{color:"light",className:"px-3 py-2",style:{fontFamily:"monospace",fontSize:"12px",backgroundColor:"#f8f9fa",color:"#6c757d",border:"1px solid #e9ecef"},children:F.sidebarFontColor})]})]})]})]})]})]})})]})]})};export{C as default};
