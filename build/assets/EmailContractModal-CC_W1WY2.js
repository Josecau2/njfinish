import{j as e}from"./date-vendor-DfW9khhA.js";import{r as t}from"./react-vendor-Dhx0OYb2.js";import{a as n}from"./redux-vendor-B0DAdCYB.js";import{u as o,S as a,h as s,k as r,j as l}from"./form-vendor-C_vzjFiG.js";import{u as i,a as d}from"./index-CRxBN8Fj.js";import{P as c}from"./PageHeader-UABCfWk-.js";import{i as m,l as p,a8 as g,a4 as u,m as h,e as x,V as b,a6 as y,C as f}from"./ui-vendor-pFEG3kEv.js";import{C as $}from"./editor-vendor-RxX6MBW0.js";import{C as v}from"./ckeditor-BRc8bNm1.js";var C=["512 512","<polygon fill='var(--ci-primary-color, currentColor)' points='408 432 376 432 376 464 112 464 112 136 144 136 144 104 80 104 80 496 408 496 408 432' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M176,16V400H496V153.373L358.627,16ZM464,368H208V48H312V200H464Zm0-200H344V48h1.372L464,166.627Z' class='ci-primary'/>"],w=["512 512","<rect width='264' height='32' x='208' y='80' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M40,96a64,64,0,1,0,64-64A64.072,64.072,0,0,0,40,96Zm64-32A32,32,0,1,1,72,96,32.036,32.036,0,0,1,104,64Z' class='ci-primary'/><rect width='264' height='32' x='208' y='240' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M104,320a64,64,0,1,0-64-64A64.072,64.072,0,0,0,104,320Zm0-96a32,32,0,1,1-32,32A32.036,32.036,0,0,1,104,224Z' class='ci-primary'/><rect width='264' height='32' x='208' y='400' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M104,480a64,64,0,1,0-64-64A64.072,64.072,0,0,0,104,480Zm0-96a32,32,0,1,1-32,32A32.036,32.036,0,0,1,104,384Z' class='ci-primary'/>"],S=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M256,144a64,64,0,1,0-64-64A64.072,64.072,0,0,0,256,144Zm0-96a32,32,0,1,1-32,32A32.036,32.036,0,0,1,256,48Z' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M256,368a64,64,0,1,0,64,64A64.072,64.072,0,0,0,256,368Zm0,96a32,32,0,1,1,32-32A32.036,32.036,0,0,1,256,464Z' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M256,192a64,64,0,1,0,64,64A64.072,64.072,0,0,0,256,192Zm0,96a32,32,0,1,1,32-32A32.036,32.036,0,0,1,256,288Z' class='ci-primary'/>"];const j=()=>{const e=localStorage.getItem("token");return e?{Authorization:`Bearer ${e}`}:{}},F=({show:s,onClose:r,formData:l})=>{const{t:b,i18n:y}=i(),f=e=>{switch(e){case"L":return b("common.short.left",{defaultValue:"L"});case"R":return b("common.short.right",{defaultValue:"R"});case"B":return b("common.short.both",{defaultValue:"B"});default:return e}};n(e=>e.selectedVersion.data);const $=n(e=>e.selectVersionNew.data),[v,C]=t.useState(null),[w,S]=t.useState(null),[F,D]=t.useState(!1),[N,k]=t.useState(null),[z,P]=t.useState(!1),[T,q]=t.useState(""),V=t.useRef(null),A=t.useRef(null),[I,E]=t.useState(1),[L,M]=t.useState(0),[R,Z]=t.useState(20),H=()=>{try{const e=V.current,t=A.current;if(!e||!t)return;const n=window.innerWidth||document.documentElement.clientWidth||0,o=Math.max(12,Math.min(32,Math.round(.04*n)));o!==R&&Z(o);const a=window.getComputedStyle(e),s=parseFloat(a.paddingLeft||"0"),r=parseFloat(a.paddingRight||"0"),l=(e.clientWidth||0)-s-r;if(!l||l<=0)return;const i=Math.min(1,l/794);E(i);const d=t.scrollHeight||t.offsetHeight||0;M(d)}catch(e){}};t.useEffect(()=>{if(!z)return;const e=()=>H();return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[z,T]),t.useEffect(()=>{if(!z||!A.current)return;const e=new MutationObserver(()=>H());return e.observe(A.current,{childList:!0,subtree:!0}),()=>e.disconnect()},[z,A.current]);const B=(()=>{try{return JSON.parse(localStorage.getItem("user"))}catch(e){return null}})(),U=!!(B?.group&&"contractor"===B.group.group_type||B?.role&&"contractor"===String(B.role).toLowerCase());t.useEffect(()=>{(async()=>{try{const e=await d.get("/api/settings/customization/pdf");k(e.data||{})}catch(e){}})();const e=l?.manufacturersData?.[0];e?.manufacturer&&e?.selectedStyle&&((async(e,t)=>{try{const n=await d.get(`/api/manufacturers/${e}/styles-meta`,{headers:j()}),o=(n.data?.styles||[]).find(e=>e.id===t);C(o||null)}catch(n){}})(e.manufacturer,e.selectedStyle),(async e=>{try{const t=await d.get(`/api/manufacturers/${e}`,{headers:j()});S(t.data||null)}catch(t){}})(e.manufacturer))},[l]);const{companyName:G,companyPhone:O,companyEmail:W,companyAddress:_,companyWebsite:Q,headerBgColor:Y="#000000",headerLogo:J,pdfFooter:K,headerTxtColor:X="#FFFFFF"}=N||{},ee=l?.description||"kitchen project",te=((new Date).toLocaleDateString(y.language||"en-US"),l?.manufacturersData?.[0]?.summary||{}),ne=l?.manufacturersData?.[0]?.items?.length?{cabinets:te.cabinets||0,assemblyFee:te.assemblyFee||0,modifications:te.modificationsCost||0,styleTotal:te.styleTotal||0,total:te.total||0,tax:te.taxAmount||0,grandTotal:te.grandTotal||0}:{cabinets:0,assemblyFee:0,modifications:0,styleTotal:0,total:0,tax:0,grandTotal:0},oe=(l?.manufacturersData?.[0]?.items||[]).map(e=>({qty:e.qty||0,code:e.code||"",assembled:e.isRowAssembled?b("common.yes"):b("common.no"),hingeSide:e.hingeSide||b("common.na"),exposedSide:e.exposedSide||b("common.na"),price:parseFloat(e.price)||0,assemblyCost:e.includeAssemblyFee&&parseFloat(e.assemblyFee)||0,total:e.includeAssemblyFee?parseFloat(e.total)||0:parseFloat(e.price)||0,modifications:e.modifications||{}})),ae=e=>{const t=J?`https://app.nj.contractors${J}`:null,n=l?.customerName||l?.customer?.name||"",o=l?.designerData?.name||"",a=(l?.date?new Date(l.date):new Date).toLocaleDateString(y.language||"en-US"),s=l?.manufacturersData?.[0]||{};let r="";s?.manufacturerData?.name?r=s.manufacturerData.name:s?.name?r=s.name:s?.manufacturer?.name?r=s.manufacturer.name:w?.name?r=w.name:l?.manufacturerData?.name?r=l.manufacturerData.name:$?.manufacturerData?.name&&(r=$.manufacturerData.name);let i="";s?.styleName?i=s.styleName:s?.selectedStyleData?.style?i=s.selectedStyleData.style:v?.style?i=v.style:s?.styleData?.style&&(i=s.styleData.style);const d=e.selectedColumns;return d.map(e=>`<th>${"no"===e?b("proposalColumns.no"):"qty"===e?b("proposalColumns.qty"):"item"===e?b("proposalColumns.item"):"assembled"===e?b("proposalColumns.assembled"):"hingeSide"===e?b("proposalColumns.hingeSide"):"exposedSide"===e?b("proposalColumns.exposedSide"):"price"===e?b("proposalColumns.price"):"assemblyCost"===e?b("proposalColumns.assemblyCost"):"total"===e?b("proposalColumns.total"):e}</th>`).join(""),oe.map((e,t)=>`<tr>${d.map(n=>{switch(n){case"no":return`<td>${t+1}</td>`;case"item":return`<td>${e.item}</td>`;case"qty":return`<td>${e.qty}</td>`;case"assembled":return`<td>${e.assembled}</td>`;case"hingeSide":return`<td>${f(e.hingeSide)}</td>`;case"exposedSide":return`<td>${f(e.exposedSide)}</td>`;case"price":return`<td>$${e.price.toFixed(2)}</td>`;case"assemblyCost":return`<td>$${e.assemblyCost.toFixed(2)}</td>`;case"total":return`<td>$${e.total.toFixed(2)}</td>`;default:return"<td></td>"}}).join("")}</tr>`).join(""),`\n\n    <!DOCTYPE html>\n<html>\n<head>\n    <meta charset="utf-8">\n    <title>${b("proposalDoc.title")}</title>\n    <style>\n        @page {\n            margin: 20mm;\n            size: A4;\n        }\n        \n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            font-size: 12px;\n            line-height: 1.4;\n            color: #333;\n            margin: 0;\n            padding: 0;\n        }\n\n        .header {\n            display: flex;\n            justify-content: space-between;\n            align-items: flex-start;\n            margin-bottom: 30px;\n            padding: 2rem;\n            background-color: ${Y};\n            color: ${X};\n            min-height: 120px;\n            overflow: hidden;\n        }\n\n        .header-left {\n            flex: 0 0 auto;\n            max-width: 50%;\n        }\n\n        .header-right {\n            flex: 0 0 auto;\n            max-width: 45%;\n            text-align: right;\n            word-wrap: break-word;\n        }\n\n        .logo {\n            max-width: 200px;\n            max-height: 80px;\n            object-fit: contain;\n            background: rgba(255,255,255,0.1);\n            padding: 0.5rem;\n            border-radius: 8px;\n        }\n\n        .company-name {\n            font-size: 1.8rem;\n            font-weight: bold;\n            color: ${X};\n            margin: 0;\n            word-wrap: break-word;\n        }\n\n        .company-info {\n            text-align: right;\n            line-height: 1.4;\n            color: ${X};\n            font-size: 0.9rem;\n            word-wrap: break-word;\n            overflow-wrap: break-word;\n        }\n\n        .company-info div {\n            margin-bottom: 3px;\n            word-wrap: break-word;\n        }\n\n        .content-wrapper {\n            padding: 2rem;\n        }\n\n        .greeting {\n            font-size: 1rem;\n            margin-bottom: 1.5rem;\n            color: #333;\n            line-height: 1.6;\n        }\n\n        .description {\n            font-size: 1rem;\n            margin-bottom: 1.5rem;\n            color: #333;\n            line-height: 1.6;\n        }\n\n        .summary-table {\n            width: 100%;\n            border-collapse: collapse;\n            margin-bottom: 2rem;\n            border: 1px solid #dee2e6;\n        }\n\n        .summary-table th {\n            background-color: #f8f9fa;\n            padding: 0.75rem;\n            border: 1px solid #dee2e6;\n            font-weight: 600;\n            text-align: left;\n        }\n\n        .summary-table td {\n            padding: 0.75rem;\n            border: 1px solid #dee2e6;\n        }\n\n        .section-header {\n            font-size: 1.5rem;\n            font-weight: 600;\n            margin: 2rem 0 1.5rem 0;\n            text-transform: uppercase;\n            letter-spacing: 0.5px;\n            color: #2563eb;\n        }\n\n        .items-table {\n            width: 100%;\n            border-collapse: collapse;\n            margin-bottom: 1.5rem;\n            border: 1px solid #dee2e6;\n        }\n\n        .items-table th {\n            background-color: #f8f9fa;\n            padding: 0.75rem;\n            border: 1px solid #dee2e6;\n            font-weight: 600;\n            text-align: left;\n            font-size: 11px;\n        }\n\n        .items-table td {\n            padding: 0.75rem;\n            border: 1px solid #dee2e6;\n            font-size: 11px;\n        }\n\n        .items-table tr:nth-child(even) {\n            background-color: #f9f9f9;\n        }\n\n        .category-row {\n            background-color: #f8f9fa !important;\n            font-weight: bold;\n            font-style: italic;\n        }\n\n        .text-right {\n            text-align: right;\n        }\n\n        .text-left {\n            text-align: left;\n        }\n\n        .price-summary {\n            background-color: #f8f9fa;\n            border: 1px solid #dee2e6;\n            border-radius: 8px;\n            padding: 1.5rem;\n            margin-top: 1.5rem;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            font-size: 1rem;\n        }\n\n        .price-summary table {\n            width: 100%;\n            border-collapse: collapse;\n        }\n\n        .price-summary td {\n            padding: 0.5rem 0;\n        }\n\n        .price-summary .text-left {\n            text-align: left;\n            color: #212529;\n            font-weight: 500;\n        }\n\n        .price-summary .text-right {\n            text-align: right;\n            color: #212529;\n            font-weight: 500;\n        }\n\n        .price-summary .total-row {\n            font-weight: bold;\n            border-top: 1px solid #dee2e6;\n            padding-top: 0.5rem;\n        }\n\n        .price-summary .grand-total {\n            font-weight: bold;\n            font-size: 1.2rem;\n            color: #1a1a1a;\n            padding-top: 0.5rem;\n            border-top: 2px solid #495057;\n            margin-top: 0.5rem;\n        }\n\n        .style-info {\n            background-color: #e8f4fd;\n            border: 1px solid #b3d7ff;\n            border-radius: 8px;\n            padding: 1rem;\n            margin-bottom: 2rem;\n            font-size: 1rem;\n        }\n\n        .style-info h4 {\n            color: #2563eb;\n            margin: 0 0 0.5rem 0;\n            font-size: 1.1rem;\n            font-weight: 600;\n        }\n\n        .style-details {\n            display: flex;\n            gap: 2rem;\n            flex-wrap: wrap;\n        }\n        \n        .style-detail-item {\n            flex: 1;\n            min-width: 200px;\n        }\n        \n        .style-detail-label {\n            font-weight: 600;\n            color: #495057;\n            margin-bottom: 0.25rem;\n            font-size: 0.875rem;\n        }\n        \n        .style-detail-value {\n            font-size: 1rem;\n            color: #212529;\n            font-weight: 500;\n        }\n\n        .style-detail-item {\n            display: flex;\n            flex-direction: column;\n            gap: 0.25rem;\n        }\n\n        .style-detail-label {\n            font-weight: 600;\n            color: #374151;\n            font-size: 0.9rem;\n        }\n\n        .main-footer-div {\n            margin-top: 1.5rem;\n            padding: 1.5rem;\n            background-color: #f8f9fa;\n            color: #6c757d;\n            font-size: 0.9rem;\n            line-height: 1.6;\n            border-top: 1px solid #dee2e6;\n            white-space: pre-line;\n            border-radius: 8px;\n        }\n\n        @media print {\n            body {\n                -webkit-print-color-adjust: exact;\n                print-color-adjust: exact;\n            }\n            \n            .page-break {\n                page-break-before: always;\n            }\n        }\n    </style>\n</head>\n<body>\n    \x3c!-- Header Section --\x3e\n    <div class="header">\n        <div class="header-left">\n            ${t?`<img src="${t}" alt="${b("proposalDoc.altCompanyLogo")}" class="logo">`:`<div class="company-name">${G||b("proposalDoc.fallbackCompanyName")}</div>`}\n        </div>\n        <div class="header-right">\n            <div class="company-info">\n                ${G?`<div><strong>${G}</strong></div>`:""}\n                ${O?`<div>${O}</div>`:""}\n                ${W?`<div>${W}</div>`:""}\n                ${Q?`<div>${Q}</div>`:""}\n                ${_?`<div style="white-space: pre-line; font-style: italic; margin-top: 0.5rem;">${_}</div>`:""}\n            </div>\n        </div>\n    </div>\n\n    \x3c!-- Content Wrapper --\x3e\n    <div class="content-wrapper">\n        \x3c!-- Greeting --\x3e\n        <div class="greeting">\n        ${b("proposalDoc.greeting",{name:n})}\n        </div>\n\n        <div class="description">\n        ${b("proposalDoc.descriptionIntro")}\n        </div>\n\n        \x3c!-- Proposal Summary (matches customization preview) --\x3e\n        <table class="summary-table">\n            <thead>\n                <tr>\n                    <th>${b("proposals.headers.description")}</th>\n                    <th>${b("proposals.headers.designer")}</th>\n                    <th>${b("proposals.headers.customer")}</th>\n                    <th>${b("proposals.headers.date")}</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr>\n                    <td>${ee}</td>\n                    <td>${o||b("common.na")}</td>\n                    <td>${n||b("common.na")}</td>\n                    <td>${a}</td>\n                </tr>\n            </tbody>\n        </table>\n\n        \x3c!-- Style and Manufacturer Information --\x3e\n        ${i||r?`\n        <div class="style-info">\n            <h4>${b("proposalDoc.styleInformation","Style Information")}</h4>\n            <div class="style-details">\n                ${r?`\n                <div class="style-detail-item">\n                    <div class="style-detail-label">${b("proposalDoc.manufacturer","Manufacturer")}:</div>\n                    <div class="style-detail-value">${r}</div>\n                </div>\n                `:""}\n                ${i?`\n                <div class="style-detail-item">\n                    <div class="style-detail-label">${b("proposalDoc.styleName","Style")}:</div>\n                    <div class="style-detail-value">${i}</div>\n                </div>\n                `:""}\n            </div>\n        </div>\n        `:""}\n\n        ${oe&&oe.length>0?`\n        \x3c!-- Proposal Items Section --\x3e\n        <div class="section-header">${b("proposalDoc.sections.proposalItems")}</div>\n        <table class="items-table">\n            <thead>\n                <tr style="background-color: #f8f9fa;">\n                    <th style="border: 1px solid #dee2e6; padding: 0.75rem;">${b("proposalColumns.no")}</th>\n                    <th style="border: 1px solid #dee2e6; padding: 0.75rem;">${b("proposalColumns.qty")}</th>\n                    <th style="border: 1px solid #dee2e6; padding: 0.75rem;">${b("proposalColumns.item")}</th>\n                    <th style="border: 1px solid #dee2e6; padding: 0.75rem;">${b("proposalColumns.assembled")}</th>\n                    <th style="border: 1px solid #dee2e6; padding: 0.75rem;">${b("proposalColumns.hingeSide")}</th>\n                    <th style="border: 1px solid #dee2e6; padding: 0.75rem;">${b("proposalColumns.exposedSide")}</th>\n                    <th style="border: 1px solid #dee2e6; padding: 0.75rem; text-align: right;">${b("proposalColumns.price")}</th>\n                    <th style="border: 1px solid #dee2e6; padding: 0.75rem; text-align: right;">${b("proposalColumns.assemblyCost")}</th>\n                    <th style="border: 1px solid #dee2e6; padding: 0.75rem; text-align: right;">${b("proposalColumns.total")}</th>\n                </tr>\n            </thead>\n            <tbody>\n                \x3c!-- Category Row --\x3e\n                <tr class="category-row">\n                    <td colspan="9" style="padding: 0.75rem; background-color: #f8f9fa; font-style: italic;"><strong>${b("proposalColumns.items")}</strong></td>\n                </tr>\n                \x3c!-- Dynamically inserted rows --\x3e\n                ${oe.map((e,t)=>`\n                        <tr>\n                            <td style="border: 1px solid #dee2e6; padding: 0.75rem;">${t+1}</td>\n                            <td style="border: 1px solid #dee2e6; padding: 0.75rem;">${e.qty}</td>\n                            <td style="border: 1px solid #dee2e6; padding: 0.75rem;">${e.code||""}</td>\n                            <td style="border: 1px solid #dee2e6; padding: 0.75rem;">${e.assembled}</td>\n                            <td style="border: 1px solid #dee2e6; padding: 0.75rem;">${f(e.hingeSide)}</td>\n                            <td style="border: 1px solid #dee2e6; padding: 0.75rem;">${f(e.exposedSide)}</td>\n                            <td style="border: 1px solid #dee2e6; padding: 0.75rem; text-align: right;">$${parseFloat(e.price).toFixed(2)}</td>\n                            <td style="border: 1px solid #dee2e6; padding: 0.75rem; text-align: right;">$${e.includeAssemblyFee?parseFloat(e.assemblyFee).toFixed(2):"0.00"}</td>\n                            <td style="border: 1px solid #dee2e6; padding: 0.75rem; text-align: right;">$${parseFloat(e.total).toFixed(2)}</td>\n                        </tr>\n                        `+(e.modifications&&e.modifications.length>0?`\n                            <tr>\n                                <td colspan="9" style="padding: 0.75rem; background-color: #f9f9f9; font-style: italic;"><strong>${b("proposalDoc.modifications")}</strong></td>\n                            </tr>\n                            ${e.modifications.map((e,t)=>{const n=(parseFloat(e.price)||0)*(e.qty||0);return`\n                                        <tr>\n                                            <td style="border: 1px solid #dee2e6; padding: 0.75rem;">-</td>\n                                            <td style="border: 1px solid #dee2e6; padding: 0.75rem;">${e.qty||""}</td>\n                                            <td style="border: 1px solid #dee2e6; padding: 0.75rem;">${e.name||""}</td>\n                                            <td colspan="3" style="border: 1px solid #dee2e6; padding: 0.75rem;"></td>\n                                            <td style="border: 1px solid #dee2e6; padding: 0.75rem; text-align: right;">$${(parseFloat(e.price)||0).toFixed(2)}</td>\n                                            <td style="border: 1px solid #dee2e6; padding: 0.75rem;"></td>\n                                            <td style="border: 1px solid #dee2e6; padding: 0.75rem; text-align: right;">$${n.toFixed(2)}</td>\n                                        </tr>\n                                    `}).join("")}\n                            `:"")).join("")}\n            </tbody>\n        </table>\n        \x3c!-- Price Summary --\x3e\n        <div class="price-summary">\n            <table>\n                <tr>\n                    <td class="text-left"><strong>${b("proposalDoc.priceSummary.cabinets")}</strong></td>\n                    <td class="text-right"><strong>$${ne.cabinets.toFixed(2)}</strong></td>\n                </tr>\n                <tr>\n                    <td class="text-left"><strong>${b("proposalDoc.priceSummary.assembly")}</strong></td>\n                    <td class="text-right"><strong>$${ne.assemblyFee.toFixed(2)}</strong></td>\n                </tr>\n                <tr>\n                    <td class="text-left"><strong>${b("proposalDoc.priceSummary.modifications")}</strong></td>\n                    <td class="text-right"><strong>$${ne.modifications.toFixed(2)}</strong></td>\n                </tr>\n                <tr class="total-row">\n                    <td class="text-left"><strong>${b("proposalDoc.priceSummary.styleTotal")}</strong></td>\n                    <td class="text-right"><strong>$${ne.styleTotal.toFixed(2)}</strong></td>\n                </tr>\n                <tr>\n                    <td class="text-left"><strong>${b("proposalDoc.priceSummary.total")}</strong></td>\n                    <td class="text-right"><strong>$${ne.total.toFixed(2)}</strong></td>\n                </tr>\n                <tr class="total-row">\n                    <td class="text-left"><strong>${b("proposalDoc.priceSummary.tax")}</strong></td>\n                    <td class="text-right"><strong>$${ne.tax.toFixed(2)}</strong></td>\n                </tr>\n                <tr class="grand-total">\n                    <td class="text-left">${b("proposalDoc.priceSummary.grandTotal")}</td>\n                    <td class="text-right">$${ne.grandTotal.toFixed(2)}</td>\n                </tr>\n            </table>\n        </div>\n        `:""}\n\n        ${l?.selectedCatalog?.length>0?`\n        \x3c!-- Catalog Items --\x3e\n        <div class="section-header">${b("proposalDoc.sections.catalogItems")}</div>\n        <table class="items-table">\n            <thead>\n                <tr>\n                    <th>${b("proposalDoc.catalog.itemName")}</th>\n                    <th>${b("proposalDoc.catalog.quantity")}</th>\n                    <th>${b("proposalDoc.catalog.unitPrice")}</th>\n                    <th>${b("proposalDoc.catalog.total")}</th>\n                </tr>\n            </thead>\n            <tbody>\n                ${l.selectedCatalog.map(e=>`\n                <tr>\n                    <td>${e.itemName||""}</td>\n                    <td>${e.quantity||0}</td>\n                    <td>$${e.unitPrice||0}</td>\n                    <td>$${(e.unitPrice*e.quantity).toFixed(2)}</td>\n                </tr>\n                `).join("")}\n            </tbody>\n        </table>\n        `:""}\n\n        \x3c!-- Footer --\x3e\n        ${K?`<div class="main-footer-div">${K}</div>`:""}\n    </div>\n</body>\n</html>\n\n        `},se=async e=>{try{const t=ae(e);D(!0);const n=await d.post("/api/generate-pdf",{html:t,options:{format:"A4",margin:{top:"20mm",right:"20mm",bottom:"20mm",left:"20mm"}}},{responseType:"blob"}),o=new Blob([n.data],{type:"application/pdf"}),a=window.URL.createObjectURL(o),s=document.createElement("a");s.href=a,s.download="proposal.pdf",document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(a)}catch(t){}finally{D(!1)}},re=o({initialValues:{showProposalItems:!0,showGroupItems:!0,selectedVersions:[],selectedColumns:["no","qty","item","assembled","hingeSide","exposedSide","price","assemblyCost","total"]},onSubmit:(e,{setSubmitting:t})=>{se(e),t(!1)}}),le=l?.manufacturersData?.map(e=>({value:e.versionName,label:e.versionName}))||[],ie=[{value:"no",label:"No."},{value:"qty",label:"Qty",isFixed:!0},{value:"item",label:"Item"},{value:"assembled",label:"Assembled"},{value:"hingeSide",label:"Hinge Side"},{value:"exposedSide",label:"Exposed Side"},{value:"price",label:"Price",isFixed:!0},{value:"assemblyCost",label:"Assembly Cost"},{value:"total",label:"Total"}];return e.jsxs(e.Fragment,{children:[e.jsxs(m,{visible:s,onClose:r,size:"lg",alignment:"center",scrollable:!0,children:[e.jsx(c,{title:b("proposalCommon.printTitle"),onClose:r}),e.jsxs("form",{onSubmit:re.handleSubmit,children:[e.jsxs(p,{className:"pt-0",children:[e.jsx("div",{className:"mb-4 p-3 bg-light rounded",children:e.jsxs("div",{className:"d-flex gap-4",children:[e.jsx("div",{className:"d-flex align-items-center",children:e.jsx(g,{id:"showProposalItems",label:e.jsx("span",{className:"fw-medium",children:b("proposalCommon.showProposalItems")}),checked:re.values.showProposalItems,onChange:re.handleChange,className:"me-2"})}),e.jsx("div",{className:"d-flex align-items-center",children:e.jsx(g,{id:"showGroupItems",label:e.jsx("span",{className:"fw-medium",children:b("proposalCommon.showGroupItems")}),checked:re.values.showGroupItems,onChange:re.handleChange,className:"me-2"})})]})}),!U&&e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"d-flex justify-content-between align-items-center mb-2",children:e.jsx(u,{htmlFor:"selectedVersions",className:"fw-medium",children:b("proposalCommon.selectVersion")})}),e.jsx(a,{id:"selectedVersions",name:"selectedVersions",options:le,isMulti:!0,value:le.filter(e=>re.values.selectedVersions.includes(e.value)),onChange:e=>{re.setFieldValue("selectedVersions",e?e.map(e=>e.value):[])},className:"basic-multi-select",classNamePrefix:"select",placeholder:b("proposalCommon.selectVersionsPlaceholder")})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"d-flex justify-content-between align-items-center mb-2",children:e.jsx(u,{htmlFor:"selectedColumns",className:"fw-medium",children:b("proposalCommon.selectColumns")})}),e.jsx(a,{id:"selectedColumns",name:"selectedColumns",options:ie,isMulti:!0,value:ie.filter(e=>re.values.selectedColumns.includes(e.value)),onChange:e=>{const t=ie.filter(e=>e.isFixed).map(e=>e.value),n=e?[...t,...e.map(e=>e.value)]:t;re.setFieldValue("selectedColumns",[...new Set(n)])},classNamePrefix:"select",placeholder:b("proposalCommon.selectColumnsPlaceholder")})]})]}),e.jsxs(h,{className:"border-top-0 pt-0",children:[e.jsx(x,{color:"secondary",onClick:r,variant:"outline",className:"px-4",children:b("common.cancel")}),e.jsxs(x,{color:"info",onClick:()=>(e=>{const t=ae(e);q(t),P(!0)})(re.values),variant:"outline",className:"px-4",children:[e.jsx("i",{className:"cil-magnifying-glass me-2"}),b("proposalCommon.preview","Preview")]}),e.jsxs(x,{color:"primary",type:"submit",className:"px-4",disabled:F,children:[e.jsx("i",{className:"cil-cloud-download me-2"}),b(F?"proposalCommon.downloading":"proposalCommon.downloadPdf")]})]})]})]}),e.jsxs(m,{visible:z,onClose:()=>P(!1),size:"xl",alignment:"center",scrollable:!0,children:[e.jsx(c,{title:b("proposalCommon.previewTitle","Proposal Preview"),onClose:()=>P(!1)}),e.jsx(p,{style:{padding:0},children:e.jsx("div",{ref:V,style:{maxHeight:"80vh",overflow:"auto",background:"#f8f9fa",padding:R},children:e.jsx("div",{style:{width:Math.floor(794*I),height:Math.round((L||0)*I),position:"relative",margin:"0 auto"},children:e.jsx("div",{ref:A,style:{width:794,transform:`scale(${I})`,transformOrigin:"top left",position:"absolute",left:0,top:0,background:"white",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},dangerouslySetInnerHTML:{__html:T}})})})}),e.jsxs(h,{children:[e.jsx(x,{color:"secondary",onClick:()=>P(!1),variant:"outline",children:b("common.close")}),e.jsxs(x,{color:"primary",onClick:()=>{P(!1),se(re.values)},disabled:F,children:[e.jsx("i",{className:"cil-cloud-download me-2"}),b(F?"proposalCommon.downloading":"proposalCommon.downloadPdf")]})]})]})]})},D=({show:C,onClose:w,formData:S,onSend:j})=>{const{t:F,i18n:D}=i(),N=e=>{switch(e){case"L":return F("common.short.left",{defaultValue:"L"});case"R":return F("common.short.right",{defaultValue:"R"});case"B":return F("common.short.both",{defaultValue:"B"});default:return e}};n(e=>e.selectedVersion.data),n(e=>e.selectVersionNew.data);const[k,z]=t.useState(!1),[P,T]=t.useState(null);t.useEffect(()=>{(async()=>{try{const e=await d.get("/api/settings/customization/pdf");T(e.data||{})}catch(e){}})()},[]);const{companyName:q,companyPhone:V,companyEmail:A,companyAddress:I,companyWebsite:E,headerColor:L="#5a2a2a",headerLogo:M,pdfFooter:R,headerTxtColor:Z}=P||{},H={description:S?.description||"kitchen project",customer:S?.customerName||"",date:(new Date).toLocaleDateString(D.language||"en-US")},B=S?.manufacturersData?.[0]?.summary||{},U=S?.manufacturersData?.[0]?.items?.length?{cabinets:B.cabinets||0,assemblyFee:B.assemblyFee||0,modifications:B.modificationsCost||0,styleTotal:B.styleTotal||0,total:B.total||0,tax:B.taxAmount||0,grandTotal:B.grandTotal||0}:{cabinets:0,assemblyFee:0,modifications:0,styleTotal:0,total:0,tax:0,grandTotal:0},G=(S?.manufacturersData?.[0]?.items||[]).map(e=>({qty:e.qty||0,code:e.code||"",assembled:e.isRowAssembled?F("common.yes"):F("common.no"),hingeSide:e.hingeSide||F("common.na"),exposedSide:e.exposedSide||F("common.na"),price:parseFloat(e.price)||0,assemblyCost:e.includeAssemblyFee&&parseFloat(e.assemblyFee)||0,total:e.includeAssemblyFee?parseFloat(e.total)||0:parseFloat(e.price)||0,modifications:e.modifications||{}})),O=S?.manufacturersData?.map(e=>({label:e.versionName,value:e.versionName}))||[];F("proposalColumns.no"),F("proposalColumns.qty"),F("proposalColumns.item"),F("proposalColumns.assembled"),F("proposalColumns.hingeSide"),F("proposalColumns.exposedSide"),F("proposalColumns.price"),F("proposalColumns.assemblyCost"),F("proposalColumns.total");const W=o({initialValues:{email:S?.customerEmail||"",body:"",versions:[],sendCopy:!0,updateCustomerEmail:!1,selectedColumns:["no","qty","item","assembled","hingeSide","exposedSide","price","assemblyCost","total"]},enableReinitialize:!0,validationSchema:s({email:l().email("Invalid email").required("Email is required"),body:l().required("Email body is required"),versions:r().min(1,"Select at least one version"),selectedColumns:r().min(1,"Select at least one column")}),onSubmit:async e=>{try{z(!0);const t=(e=>{const t=M?`https://app.nj.contractors${M}`:null,n=e.selectedColumns;return n.map(e=>`<th>${"no"===e?F("proposalColumns.no"):"qty"===e?F("proposalColumns.qty"):"item"===e?F("proposalColumns.item"):"assembled"===e?F("proposalColumns.assembled"):"hingeSide"===e?F("proposalColumns.hingeSide"):"exposedSide"===e?F("proposalColumns.exposedSide"):"price"===e?F("proposalColumns.price"):"assemblyCost"===e?F("proposalColumns.assemblyCost"):"total"===e?F("proposalColumns.total"):e}</th>`).join(""),G.map((e,t)=>`<tr>${n.map(n=>{switch(n){case"no":return`<td>${t+1}</td>`;case"qty":return`<td>${e.qty}</td>`;case"item":return`<td>${e.item}</td>`;case"assembled":return`<td>${e.assembled}</td>`;case"hingeSide":return`<td>${N(e.hingeSide)}</td>`;case"exposedSide":return`<td>${N(e.exposedSide)}</td>`;case"price":return`<td>$${e.price.toFixed(2)}</td>`;case"assemblyCost":return`<td>$${e.assemblyCost.toFixed(2)}</td>`;case"total":return`<td>$${e.total.toFixed(2)}</td>`;default:return"<td></td>"}}).join("")}</tr>`).join(""),`\n        \n        <!DOCTYPE html>\n<html>\n<head>\n    <meta charset="utf-8">\n    <title>${F("proposalDoc.title")}</title>\n    <style>\n        @page {\n            margin: 20mm;\n            size: A4;\n        }\n        \n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: 'Arial', sans-serif;\n            font-size: 12px;\n            line-height: 1.4;\n            color: #333;\n        }\n\n        .header {\n            display: flex;\n            justify-content: space-between;\n            align-items: flex-start;\n            margin-bottom: 30px;\n            padding: 20px;\n            border-bottom: 2px solid ${L}; /* Default header color */\n            background-color: ${L}; /* Default header color */\n        }\n\n        .logo {\n            max-width: 120px;\n            max-height: 80px;\n        }\n\n        .company-name {\n            font-size: 24px;\n            font-weight: bold;\n            color: white;\n        }\n\n        .company-info {\n            text-align: right;\n            line-height: 1.6;\n            color: ${Z};\n        }\n\n        .company-info div {\n            margin-bottom: 2px;\n        }\n\n        .greeting {\n            font-size: 14px;\n            margin-bottom: 15px;\n            color: #333;\n        }\n\n        .description {\n            font-size: 12px;\n            margin-bottom: 25px;\n            color: #666;\n        }\n\n        .summary-table {\n            width: 100%;\n            border-collapse: collapse;\n            margin-bottom: 30px;\n        }\n\n        .summary-table th {\n            background-color: #f8f9fa;\n            padding: 12px;\n            border: 1px solid #dee2e6;\n            font-weight: bold;\n            text-align: left;\n        }\n\n        .summary-table td {\n            padding: 12px;\n            border: 1px solid #dee2e6;\n        }\n\n        .section-header {\n            font-size: 16px;\n            font-weight: bold;\n            margin: 25px 0 15px 0;\n            text-transform: uppercase;\n            letter-spacing: 0.5px;\n        }\n\n        .items-table {\n            width: 100%;\n            border-collapse: collapse;\n            margin-bottom: 20px;\n        }\n\n        .items-table th {\n            background-color: #f8f9fa;\n            padding: 10px 8px;\n            border: 1px solid #dee2e6;\n            font-weight: bold;\n            text-align: left;\n            font-size: 11px;\n        }\n\n        .items-table td {\n            padding: 8px;\n            border: 1px solid #dee2e6;\n            font-size: 10px;\n        }\n\n        .items-table tr:nth-child(even) {\n            background-color: #f9f9f9;\n        }\n\n        .category-row {\n            background-color: #e6e6e6 !important;\n            font-weight: bold;\n        }   \n\n        .text-right {\n            text-align: right;\n        }\n\n        .text-left {\n            text-align: left;\n        }\n\n        .main-footer-div {\n            margin-top: 50px;\n            text-align: center;\n            color: #666;\n            font-size: 10px;\n        }\n\n        .price-summary {\n            background-color: #f8f9fa;\n            border: 1px solid #dee2e6;\n            border-radius: 0.5rem;\n            padding: 1rem;\n            margin-top: 1rem;\n            font-family: 'Arial', sans-serif;\n            font-size: 0.95rem;\n        }\n\n        .price-summary table {\n            width: 100%;\n            border-collapse: collapse;\n        }\n\n        .price-summary td {\n            padding: 0.25rem 0;\n        }\n\n        .price-summary .text-left {\n            text-align: left;\n            color: #212529;\n            font-weight: 500;\n        }\n\n        .price-summary .text-right {\n            text-align: right;\n            color: #212529;\n            font-weight: 500;\n        }\n\n        .price-summary .total-row {\n            font-weight: bold;\n            border-bottom: 1px solid #ced4da;\n            padding-top: 0.25rem;\n        }\n\n        .price-summary .grand-total {\n            font-weight: bold;\n            font-size: 1.05rem;\n            color: #1a1a1a;\n            padding-top: 0.75rem;\n        }\n\n        @media print {\n            body {\n                -webkit-print-color-adjust: exact;\n                print-color-adjust: exact;\n            }\n            \n            .page-break {\n                page-break-before: always;\n            }\n        }\n    </style>\n</head>\n<body>\n    \x3c!-- Header Section --\x3e\n    <div class="header">\n        <div>\n            ${t?`<img src="${t}" alt="${F("proposalDoc.altCompanyLogo")}" class="logo">`:`<div class="company-name">${q||F("proposalDoc.fallbackCompanyName")}</div>`}\n        </div>\n        <div class="company-info">\n            <div><strong>${q||""}</strong></div>\n            <div>${V||""}</div>\n            <div>${A||""}</div>\n            <div>${E||""}</div>\n            <div>${I||""}</div>\n        </div>\n    </div>\n\n    \x3c!-- Greeting --\x3e\n    <div class="greeting">\n    ${F("proposalDoc.greeting",{name:H.customer})}\n    </div>\n\n    <div class="description">\n    ${F("proposalDoc.descriptionIntro")}\n    </div>\n\n    \x3c!-- Proposal Summary --\x3e\n    <table class="summary-table">\n        <thead>\n            <tr>\n                <th>${F("proposalDoc.summary.description")}</th>\n                \x3c!--  <th>Customer</th>--\x3e\n                <th>${F("proposalDoc.summary.date")}</th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr>\n                <td>${H.description}</td>\n                \x3c!--  <td>${H.customer}</td> --\x3e\n                <td>${H.date}</td>\n            </tr>\n        </tbody>\n    </table>\n\n    ${G&&G.length>0?`\n    \x3c!-- Proposal Items Section --\x3e\n    <div class="section-header">${F("proposalDoc.sections.proposalItems")}</div>\n    <table class="items-table">\n        <thead>\n            <tr style="background-color: #f0f0f0;">\n                <th style="border: 1px solid #ccc; padding: 5px;">${F("proposalColumns.no")}</th>\n                <th style="border: 1px solid #ccc; padding: 5px;">${F("proposalColumns.qty")}</th>\n                <th style="border: 1px solid #ccc; padding: 5px;">${F("proposalColumns.item")}</th>\n                <th style="border: 1px solid #ccc; padding: 5px;">${F("proposalColumns.assembled")}</th>\n                <th style="border: 1px solid #ccc; padding: 5px;">${F("proposalColumns.hingeSide")}</th>\n                <th style="border: 1px solid #ccc; padding: 5px;">${F("proposalColumns.exposedSide")}</th>\n                <th style="border: 1px solid #ccc; padding: 5px;">${F("proposalColumns.price")}</th>\n                <th style="border: 1px solid #ccc; padding: 5px;">${F("proposalColumns.assemblyCost")}</th>\n                <th style="border: 1px solid #ccc; padding: 5px;">${F("proposalColumns.total")}</th>\n            </tr>\n        </thead>\n        <tbody>\n            \x3c!-- Category Row --\x3e\n            <tr class="category-row">\n                <td colspan="9" style="padding: 6px;"><strong>${F("proposalColumns.items")}</strong></td>\n            </tr>\n            \x3c!-- Dynamically inserted rows --\x3e\n            ${G.map((e,t)=>`\n                    <tr>\n                        <td style="border: 1px solid #ccc; padding: 5px;">${t+1}</td>\n                        <td style="border: 1px solid #ccc; padding: 5px;">${e.qty}</td>\n                        <td style="border: 1px solid #ccc; padding: 5px;">${e.code||""}</td>\n                        <td style="border: 1px solid #ccc; padding: 5px;">${e.assembled}</td>\n                        <td style="border: 1px solid #ccc; padding: 5px;">${e.hingeSide}</td>\n                        <td style="border: 1px solid #ccc; padding: 5px;">${e.exposedSide}</td>\n                        <td style="border: 1px solid #ccc; padding: 5px;">$${parseFloat(e.price).toFixed(2)}</td>\n                        <td style="border: 1px solid #ccc; padding: 5px;">$${e.includeAssemblyFee?parseFloat(e.assemblyFee).toFixed(2):"0.00"}</td>\n                        <td style="border: 1px solid #ccc; padding: 5px;">$${parseFloat(e.total).toFixed(2)}</td>\n                    </tr>\n                    `+(e.modifications&&e.modifications.length>0?`\n                        <tr>\n                            <td colspan="9" style="padding: 5px;  background-color: #f9f9f9;"><strong>${F("proposalDoc.modifications")}</strong></td>\n                        </tr>\n                        ${e.modifications.map((e,t)=>{const n=(parseFloat(e.price)||0)*(e.qty||0);return`\n                                    <tr>\n                                        <td  padding: 5px;">-</td>\n                                        <td  padding: 5px;">${e.qty||""}</td>\n                                        <td  padding: 5px;">${e.name||""}</td>\n                                        <td colspan="3"  padding: 5px;"></td>\n                                        <td  padding: 5px;">$${(parseFloat(e.price)||0).toFixed(2)}</td>\n                                        <td  padding: 5px;"></td>\n                                        <td  padding: 5px;">$${n.toFixed(2)}</td>\n                                    </tr>\n                                `}).join("")}\n                        `:"")).join("")}\n        </tbody>\n    </table>\n    \x3c!-- Price Summary --\x3e\n    <div class="price-summary">\n        <table>\n            <tr>\n                <td class="text-left">${F("proposalDoc.priceSummary.cabinets")}</td>\n                <td class="text-right">$${U.cabinets.toFixed(2)}</td>\n            </tr>\n            <tr>\n                <td class="text-left">${F("proposalDoc.priceSummary.assembly")}</td>\n                <td class="text-right">$${U.assemblyFee.toFixed(2)}</td>\n            </tr>\n            <tr class="total-row">\n                <td class="text-left">${F("proposalDoc.priceSummary.modifications")}</td>\n                <td class="text-right">$${U.modifications.toFixed(2)}</td>\n            </tr>\n            <tr >\n                <td class="text-left">${F("proposalDoc.priceSummary.styleTotal")}</td>\n                <td class="text-right">$${U.styleTotal.toFixed(2)}</td>\n            </tr>\n            <tr >\n                <td class="text-left">${F("proposalDoc.priceSummary.total")}</td>\n                <td class="text-right">$${U.total.toFixed(2)}</td>\n            </tr>\n            <tr class="total-row">\n                <td class="text-left">${F("proposalDoc.priceSummary.tax")}</td>\n                <td class="text-right">$${U.tax.toFixed(2)}</td>\n            </tr>\n            <tr class="grand-total">\n                <td class="text-left">${F("proposalDoc.priceSummary.grandTotal")}</td>\n                <td class="text-right">$${U.grandTotal.toFixed(2)}</td>\n            </tr>\n        </table>\n    </div>\n    `:""}\n\n    ${S?.selectedCatalog?.length>0?`\n    \x3c!-- Catalog Items --\x3e\n    <div class="section-header">${F("proposalDoc.sections.catalogItems")}</div>\n    <table class="items-table">\n        <thead>\n            <tr>\n                <th>${F("proposalDoc.catalog.itemName")}</th>\n                <th>${F("proposalDoc.catalog.quantity")}</th>\n                <th>${F("proposalDoc.catalog.unitPrice")}</th>\n                <th>${F("proposalDoc.catalog.total")}</th>\n            </tr>\n        </thead>\n        <tbody>\n            ${S.selectedCatalog.map(e=>`\n            <tr>\n                <td>${e.itemName||""}</td>\n                <td>${e.quantity||0}</td>\n                <td>$${e.unitPrice||0}</td>\n                <td>$${(e.unitPrice*e.quantity).toFixed(2)}</td>\n            </tr>\n            `).join("")}\n        </tbody>\n    </table>\n    `:""}\n\n    \x3c!-- Footer --\x3e\n    <div class="main-footer-div">\n        ${R}\n    </div>\n</body>\n</html>\n\n        `})(e);await d.post("/api/proposals/send-email",{email:e.email,body:e.body,versions:e.versions.map(e=>e.value).join(", "),sendCopy:e.sendCopy,htmlContent:t}),z(!1),w(),j&&j()}catch(t){z(!1)}}});return e.jsxs(m,{visible:C,onClose:w,alignment:"center",size:"lg",scrollable:!0,children:[e.jsx(c,{title:F("proposalCommon.emailTitle"),onClose:w}),e.jsxs("form",{onSubmit:W.handleSubmit,children:[e.jsxs(p,{className:"px-4 pb-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(u,{htmlFor:"email",className:"fw-semibold",children:F("proposalCommon.emailAddress")}),e.jsx(b,{id:"email",type:"email",name:"email",placeholder:F("proposalCommon.emailPlaceholder"),value:W.values.email,onChange:W.handleChange,onBlur:W.handleBlur,disabled:k}),W.touched.email&&W.errors.email&&e.jsx("div",{className:"text-danger small mt-1",children:W.errors.email})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(u,{htmlFor:"body",className:"fw-semibold",children:F("proposalCommon.emailBody")}),e.jsx("div",{className:"border rounded p-2 bg-body",children:e.jsx($,{editor:v,data:W.values.body,disabled:k,onChange:(e,t)=>W.setFieldValue("body",t.getData()),onBlur:()=>W.setFieldTouched("body",!0)})}),W.touched.body&&W.errors.body&&e.jsx("div",{className:"text-danger small mt-1",children:W.errors.body})]}),e.jsxs("div",{className:"mb-4 d-flex align-items-center gap-2",children:[e.jsx(g,{id:"sendCopy",name:"sendCopy",className:"me-1",checked:W.values.sendCopy,onChange:W.handleChange,disabled:k,size:"md",style:{transform:"scale(1.5)"}}),e.jsx(u,{htmlFor:"sendCopy",className:"mb-0",children:F("proposalCommon.includeItems")})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(u,{className:"fw-semibold",children:F("proposalCommon.selectVersion")}),e.jsx(a,{isMulti:!0,name:"versions",options:O,classNamePrefix:"react-select",value:W.values.versions,placeholder:F("proposalCommon.selectVersionsPlaceholder"),onChange:e=>W.setFieldValue("versions",e),onBlur:()=>W.setFieldTouched("versions",!0),isDisabled:k}),W.touched.versions&&W.errors.versions&&e.jsx("div",{className:"text-danger small mt-1",children:W.errors.versions})]}),e.jsxs("div",{className:"mb-0 d-flex justify-content-end align-items-center gap-2",children:[e.jsx(y,{type:"checkbox",id:"updateCustomerEmail",name:"updateCustomerEmail",checked:W.values.updateCustomerEmail,onChange:W.handleChange,disabled:k,style:{width:"20px",height:"20px"}}),e.jsx(u,{htmlFor:"updateCustomerEmail",className:"line-height-2 mb-0 fw-semibold",children:F("proposalCommon.updateCustomerEmail")})]})]}),e.jsxs(h,{className:"px-4 pb-4",children:[e.jsx(x,{color:"secondary",variant:"outline",onClick:w,disabled:k,children:F("common.cancel")}),e.jsx(x,{type:"submit",color:"primary",disabled:k,children:k?e.jsxs(e.Fragment,{children:[e.jsx(f,{size:"sm",className:"me-2"}),F("proposalCommon.sending")]}):F("proposalCommon.sendEmail")})]})]})]})},N=({show:t,onClose:n})=>{const{t:o}=i();return e.jsxs(m,{visible:t,onClose:n,alignment:"center",size:"lg",scrollable:!0,children:[e.jsx(c,{title:o("contracts.sendTitle","Send contract"),onClose:n}),e.jsx(p,{children:e.jsx("p",{className:"text-center",children:o("contracts.noContractsMsg","No contracts available for selection. Please go to contract settings to add one.")})})]})};export{D as E,F as P,w as a,S as b,C as c,N as d};
