/* Embla Carousel Styles - Integrated with Chakra UI */

.embla {
  overflow: hidden;
  position: relative;
}

.embla__container {
  display: flex;
  touch-action: pan-y pinch-zoom; /* Enable vertical scroll but allow horizontal swipe */
  backface-visibility: hidden;
  will-change: transform;
  margin-left: 0;
  padding: 0;
  gap: var(--chakra-space-0-5); /* Very tight 2px gap between slides */
}

.embla__slide {
  transform: translate3d(0, 0, 0); /* GPU acceleration for smooth performance */
  flex: 0 0 33.33%; /* Default: show exactly 3 slides on narrow screens */
  min-width: 0; /* Prevent flex items from overflowing */
  padding-left: 0;
  position: relative;
}

/* Responsive Breakpoints - Match Chakra UI breakpoints */

/* Small phones (360px+): show 3-4 slides */
@media (min-width: 360px) {
  .embla__slide {
    flex: 0 0 25%; /* Exactly 4 items */
  }
}

/* Small Tablet (480px+): 4 items */
@media (min-width: 480px) {
  .embla__slide {
    flex: 0 0 25%; /* Exactly 4 items */
  }
}

/* Tablet (640px+): 4-5 items */
@media (min-width: 640px) {
  .embla__slide {
    flex: 0 0 22%;
  }
}

/* Desktop (768px+): Hide carousel, show grid instead */
@media (min-width: 768px) {
  .embla {
    display: none;
  }
}

/* Ensure images within slides are responsive */
.embla__slide img {
  width: 100%;
  height: auto;
  display: block;
  border-radius: var(--chakra-radii-md);
}

/* Make image container boxes fit content instead of full width */
.embla__slide > div {
  width: 100% !important;
  max-width: 100% !important;
  margin: 0 !important;
  padding: 0 !important;
}

.embla__slide > div > div {
  width: 100% !important;
  padding: 4px !important;
}

/* Optional: Add smooth transition for resize events */
.embla__container,
.embla__slide {
  transition: none; /* Embla handles transitions */
}

/* Focus styles for accessibility */
.embla:focus-visible {
  outline: 2px solid var(--chakra-colors-blue-500);
  outline-offset: 2px;
}

/* Prevent text selection during drag */
.embla__container {
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
}

/* Loading state skeleton compatibility */
.embla__slide .chakra-skeleton {
  border-radius: var(--chakra-radii-md);
}
